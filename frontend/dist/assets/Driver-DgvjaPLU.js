const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MiniMap-BTnqSXbn.js","assets/index-TnPH2S_w.js","assets/index-B9zXfgxB.css","assets/mapbox-gl-CbJENOAs.js"])))=>i.map(i=>d[i]);
import{c as A,u as se,b as te,r as n,g as c,j as e,T as ae,i as ie,L as re,H as ne,p as le,B as ce,e as de,X as oe,f as z,l as Y,M as xe,h as me,C as he,_ as ge}from"./index-TnPH2S_w.js";import{l as ue}from"./index-CyTcV1HU.js";import{P as pe}from"./package-DJqEn-u_.js";import{M as be}from"./message-circle-DwikqqP-.js";import{N as W}from"./navigation-BMvs7t9G.js";import{S as fe}from"./send-CWO-Q0mc.js";/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=A("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=A("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=A("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),ve=n.lazy(()=>ge(()=>import("./MiniMap-BTnqSXbn.js"),__vite__mapDeps([0,1,2,3]))),S={confirmed:{label:"Neu",color:"bg-amber-500",icon:"ðŸ†•"},picking:{label:"Packen",color:"bg-blue-500",icon:"ðŸ“¦"},picked:{label:"Bereit",color:"bg-purple-500",icon:"âœ…"},delivering:{label:"Unterwegs",color:"bg-rose-500",icon:"ðŸš´"},delivered:{label:"Geliefert",color:"bg-green-500",icon:"ðŸŽ‰"}},j=n.memo(({order:i,onAccept:a,onDetails:y,showAccept:d,isOnline:b})=>{var t,o,x,f;const g=S[i.status]||S.confirmed,N=((t=i.items)==null?void 0:t.length)||0;return e.jsxs("div",{onClick:()=>!d&&y(i),className:"bg-white rounded-2xl overflow-hidden shadow-sm border border-gray-100 active:scale-[0.98] transition-transform",children:[e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:g.icon}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-bold text-gray-900",children:["#",i.id]}),e.jsx("span",{className:`ml-2 text-xs font-medium text-white px-2 py-0.5 rounded-full ${g.color}`,children:g.label})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-lg text-gray-900",children:[(o=i.total)==null?void 0:o.toFixed(2)," â‚¬"]}),e.jsxs("p",{className:"text-xs text-gray-400",children:[N," Artikel"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-rose-400 to-rose-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:((f=(x=i.customer_name)==null?void 0:x.charAt(0))==null?void 0:f.toUpperCase())||"?"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900 truncate",children:i.customer_name}),e.jsxs("p",{className:"text-xs text-gray-500 truncate",children:[i.street," ",i.house_number]})]}),i.customer_phone&&e.jsx("a",{href:`tel:${i.customer_phone}`,onClick:m=>m.stopPropagation(),className:"w-10 h-10 bg-green-500 text-white rounded-xl flex items-center justify-center",children:e.jsx(Y,{size:18})})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx(he,{size:14}),e.jsxs("span",{children:[new Date(i.created_at).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})," Uhr"]}),i.instructions&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-300",children:"â€¢"}),e.jsxs("span",{className:"text-rose-500 truncate",children:["ðŸ“ ",i.instructions]})]})]})]}),d&&e.jsx("button",{onClick:m=>{m.stopPropagation(),a(i.id)},disabled:!b,className:`w-full py-4 font-bold text-center transition-all ${b?"bg-gradient-to-r from-rose-500 to-pink-500 text-white":"bg-gray-100 text-gray-400"}`,children:b?"ðŸš€ Auftrag annehmen":"â¸ï¸ Erst online gehen"})]})});j.displayName="OrderCard";function Se(){var P,B,I,T,K,U,H,R,V,q,G;const i=se(),{user:a,logout:y}=te(),[d,b]=n.useState(()=>localStorage.getItem("driverOnline")==="true"),[g,N]=n.useState([]),[t,o]=n.useState(null),[x,f]=n.useState("available"),[m,M]=n.useState(""),[Z,O]=n.useState(!0),[v,X]=n.useState({today:0,earnings:0,rating:4.9}),[D,E]=n.useState(!1);n.useEffect(()=>{if(!a||a.role!=="driver"){i("/login?redirect=/driver");return}u();const s=ue();s.on("new-order",u),s.on("order-update",u);const r=setInterval(u,3e4);return()=>{s.disconnect(),clearInterval(r)}},[a,i]);const u=n.useCallback(async()=>{try{const{data:s}=await c.get("/orders");N(s);const r=new Date().toDateString(),h=s.filter(l=>l.driver_id===(a==null?void 0:a.id)&&l.status==="delivered"&&new Date(l.delivered_at||l.created_at).toDateString()===r);X({today:h.length,earnings:h.reduce((l,$)=>l+$.total*.1,0),rating:4.9}),O(!1)}catch{O(!1)}},[a==null?void 0:a.id]),L=()=>{const s=!d;b(s),localStorage.setItem("driverOnline",String(s))},J=async s=>{try{await c.patch(`/orders/${s}/status`,{status:"picking"}),u();const{data:r}=await c.get(`/orders/${s}`);o(r)}catch{alert("Fehler beim Annehmen")}},w=async(s,r)=>{try{if(await c.patch(`/orders/${s}/status`,{status:r}),u(),(t==null?void 0:t.id)===s){const{data:h}=await c.get(`/orders/${s}`);o(h)}}catch{alert("Fehler")}},Q=async s=>{if(t)try{await c.patch(`/orders/${t.id}/items/${s}/pick`);const{data:r}=await c.get(`/orders/${t.id}`);o(r)}catch{}},F=async()=>{if(!(!m.trim()||!t))try{await c.post(`/orders/${t.id}/messages`,{message:m}),M("");const{data:s}=await c.get(`/orders/${t.id}`);o(s)}catch{}},k=async s=>{const{data:r}=await c.get(`/orders/${s.id}`);o(r)},p=g.filter(s=>s.status==="confirmed"&&!s.driver_id),C=g.filter(s=>s.driver_id===(a==null?void 0:a.id)&&!["delivered","cancelled"].includes(s.status)),_=g.filter(s=>s.driver_id===(a==null?void 0:a.id)&&s.status==="delivered").slice(0,20);return Z?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-rose-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"LÃ¤dt Bestellungen..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsxs("header",{className:"bg-gradient-to-br from-rose-500 to-pink-600 text-white pt-safe",children:[e.jsxs("div",{className:"px-4 pt-4 pb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center",children:e.jsx(ae,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-rose-100 text-sm",children:"Willkommen zurÃ¼ck"}),e.jsx("h1",{className:"text-xl font-bold",children:a==null?void 0:a.name})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:L,className:`px-4 py-2.5 rounded-xl font-medium flex items-center gap-2 transition-all ${d?"bg-green-400 text-green-900 shadow-lg shadow-green-500/30":"bg-white/20 text-white"}`,children:[e.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${d?"bg-green-900 animate-pulse":"bg-white/50"}`}),d?"Online":"Offline"]}),e.jsx("button",{onClick:()=>E(!D),className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:e.jsx(Ne,{size:20})})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3 text-center",children:[e.jsx(pe,{size:20,className:"mx-auto mb-1 opacity-80"}),e.jsx("p",{className:"text-2xl font-bold",children:v.today}),e.jsx("p",{className:"text-xs text-rose-100",children:"Heute"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3 text-center",children:[e.jsx(ye,{size:20,className:"mx-auto mb-1 opacity-80"}),e.jsxs("p",{className:"text-2xl font-bold",children:[v.earnings.toFixed(0),"â‚¬"]}),e.jsx("p",{className:"text-xs text-rose-100",children:"Verdient"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-xl p-3 text-center",children:[e.jsx(ie,{size:20,className:"mx-auto mb-1 opacity-80"}),e.jsx("p",{className:"text-2xl font-bold",children:v.rating}),e.jsx("p",{className:"text-xs text-rose-100",children:"Bewertung"})]})]})]}),e.jsx("div",{className:"flex bg-white/10 mx-4 rounded-t-xl overflow-hidden",children:[{id:"available",label:"VerfÃ¼gbar",count:p.length,icon:"ðŸ“‹"},{id:"active",label:"Aktiv",count:C.length,icon:"ðŸš´"},{id:"done",label:"Fertig",count:_.length,icon:"âœ…"}].map(s=>e.jsxs("button",{onClick:()=>f(s.id),className:`flex-1 py-3 text-sm font-medium relative transition-all ${x===s.id?"bg-white text-gray-900":"text-white/80 hover:text-white"}`,children:[e.jsx("span",{className:"mr-1",children:s.icon}),s.label,s.count>0&&e.jsx("span",{className:`ml-1.5 px-1.5 py-0.5 rounded-full text-xs ${x===s.id?"bg-rose-100 text-rose-600":"bg-white/20"}`,children:s.count})]},s.id))})]}),D&&e.jsxs("div",{className:"absolute top-20 right-4 bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden z-50 w-56",children:[e.jsxs(re,{to:"/support",className:"flex items-center gap-3 px-4 py-3 hover:bg-gray-50 transition-colors",onClick:()=>E(!1),children:[e.jsx(ne,{size:20,className:"text-gray-400"}),e.jsx("span",{children:"Support"})]}),e.jsxs("button",{onClick:()=>{y(),i("/")},className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50 transition-colors text-red-500",children:[e.jsx(le,{size:20}),e.jsx("span",{children:"Abmelden"})]})]}),!d&&e.jsxs("div",{className:"bg-gray-800 text-white px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(je,{size:18}),e.jsx("span",{className:"text-sm",children:"Du bist offline - Zeit fÃ¼r eine Pause? â˜•"})]}),e.jsx("button",{onClick:L,className:"bg-green-500 text-white px-4 py-1.5 rounded-lg text-sm font-medium",children:"Online gehen"})]}),p.length>0&&x!=="available"&&e.jsxs("button",{onClick:()=>f("available"),className:"w-full bg-gradient-to-r from-amber-400 to-orange-500 text-white px-4 py-3 flex items-center justify-center gap-2 shadow-lg",children:[e.jsx(ce,{size:18,className:"animate-bounce"}),e.jsxs("span",{className:"font-bold",children:[p.length," neue Bestellung",p.length>1?"en":"","!"]}),e.jsx(de,{size:18})]}),e.jsxs("div",{className:"p-4 space-y-4 pb-8",children:[x==="available"&&(p.length>0?p.map(s=>e.jsx(j,{order:s,showAccept:!0,isOnline:d,onAccept:J,onDetails:k},s.id)):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-sm",children:e.jsx("span",{className:"text-5xl",children:"ðŸ˜´"})}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Keine neuen Bestellungen"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Warte auf eingehende AuftrÃ¤ge"})]})),x==="active"&&(C.length>0?C.map(s=>e.jsx(j,{order:s,onDetails:k},s.id)):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-sm",children:e.jsx("span",{className:"text-5xl",children:"ðŸš´"})}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Keine aktiven AuftrÃ¤ge"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Nimm einen neuen Auftrag an"})]})),x==="done"&&(_.length>0?_.map(s=>e.jsx(j,{order:s,onDetails:k},s.id)):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-sm",children:e.jsx("span",{className:"text-5xl",children:"ðŸ“­"})}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Noch keine Lieferungen"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Deine abgeschlossenen AuftrÃ¤ge erscheinen hier"})]}))]}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/60 z-50",children:e.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-white rounded-t-3xl max-h-[92vh] overflow-y-auto animate-slide-up",children:[e.jsx("div",{className:"sticky top-0 bg-white pt-3 pb-2 z-10",children:e.jsx("div",{className:"w-12 h-1.5 bg-gray-300 rounded-full mx-auto"})}),e.jsx("div",{className:"px-4 pb-4 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:(P=S[t.status])==null?void 0:P.icon}),e.jsxs("h2",{className:"text-xl font-bold",children:["Bestellung #",t.id]})]}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:t.customer_name})]}),e.jsx("button",{onClick:()=>o(null),className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(oe,{size:20})})]})}),e.jsx("div",{className:"px-4 py-4 bg-gray-50",children:e.jsx("div",{className:"flex items-center justify-between",children:["picking","picked","delivering","delivered"].map((s,r)=>{const h=["picking","picked","delivering","delivered"].indexOf(t.status),l=r<=h,$=t.status===s,ee=["Packen","Bereit","Liefern","Fertig"];return e.jsxs("div",{className:"flex-1 flex items-center",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold ${l?"bg-rose-500 text-white":"bg-gray-200 text-gray-400"} ${$?"ring-4 ring-rose-200 scale-110":""}`,children:l?e.jsx(z,{size:18}):r+1}),e.jsx("span",{className:`text-xs mt-1 ${l?"text-rose-600 font-medium":"text-gray-400"}`,children:ee[r]})]}),r<3&&e.jsx("div",{className:`flex-1 h-1 mx-2 rounded ${l&&r<h?"bg-rose-500":"bg-gray-200"}`})]},s)})})}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-rose-400 to-rose-600 rounded-full flex items-center justify-center text-white text-xl font-bold",children:((I=(B=t.customer_name)==null?void 0:B.charAt(0))==null?void 0:I.toUpperCase())||"?"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-bold text-gray-900",children:t.customer_name}),e.jsx("p",{className:"text-sm text-gray-500",children:t.customer_phone||"Keine Nummer"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.customer_phone&&e.jsxs("a",{href:`tel:${t.customer_phone}`,className:"flex items-center justify-center gap-2 py-3 bg-green-500 text-white rounded-xl font-medium",children:[e.jsx(Y,{size:18})," Anrufen"]}),e.jsxs("button",{onClick:()=>{var s;return(s=document.getElementById("chat-section"))==null?void 0:s.scrollIntoView({behavior:"smooth"})},className:"flex items-center justify-center gap-2 py-3 bg-rose-500 text-white rounded-xl font-medium",children:[e.jsx(be,{size:18})," Chat"]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl overflow-hidden",children:[e.jsx(n.Suspense,{fallback:e.jsx("div",{className:"h-[150px] bg-gray-100 flex items-center justify-center",children:e.jsx("div",{className:"w-6 h-6 border-2 border-rose-500/30 border-t-rose-500 rounded-full animate-spin"})}),children:e.jsx(ve,{address:{street:t.street,house_number:t.house_number,postal_code:t.postal_code,city:t.city||"MÃ¼nster",lat:t.lat,lng:t.lng},height:150})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(xe,{size:18,className:"text-rose-500"}),e.jsx("span",{className:"font-bold",children:"Lieferadresse"})]}),e.jsxs("p",{className:"font-medium text-gray-900",children:[t.street," ",t.house_number]}),e.jsxs("p",{className:"text-gray-500",children:[t.postal_code," ",t.city||"MÃ¼nster"]}),t.instructions&&e.jsx("div",{className:"mt-2 p-2 bg-amber-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-amber-700",children:["ðŸ“ ",t.instructions]})})]}),e.jsx("a",{href:`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(`${t.street} ${t.house_number}, ${t.postal_code} ${t.city||"MÃ¼nster"}`)}`,target:"_blank",className:"w-12 h-12 bg-blue-500 text-white rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(W,{size:22})})]})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[e.jsx("span",{className:"font-bold",children:"Artikel abhaken"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[(T=t.items)==null?void 0:T.filter(s=>s.picked).length,"/",(K=t.items)==null?void 0:K.length," âœ“"]})]}),e.jsx("div",{className:"divide-y divide-gray-100",children:(U=t.items)==null?void 0:U.map(s=>e.jsxs("div",{onClick:()=>!s.picked&&t.status==="picking"&&Q(s.id),className:`flex items-center gap-4 p-4 ${!s.picked&&t.status==="picking"?"cursor-pointer active:bg-gray-50":""}`,children:[e.jsx("div",{className:`w-7 h-7 rounded-lg border-2 flex items-center justify-center transition-all ${s.picked?"bg-green-500 border-green-500 text-white":"border-gray-300"}`,children:s.picked&&e.jsx(z,{size:16})}),e.jsx("div",{className:"flex-1",children:e.jsxs("span",{className:`font-medium ${s.picked?"text-gray-400 line-through":"text-gray-900"}`,children:[s.quantity,"x ",s.name]})}),e.jsxs("span",{className:"font-medium text-gray-500",children:[(s.price*s.quantity).toFixed(2)," â‚¬"]})]},s.id))}),e.jsxs("div",{className:"p-4 bg-gray-50 flex justify-between items-center",children:[e.jsx("span",{className:"font-bold",children:"Gesamt"}),e.jsxs("span",{className:"text-xl font-bold text-rose-500",children:[(H=t.total)==null?void 0:H.toFixed(2)," â‚¬"]})]})]}),e.jsxs("div",{id:"chat-section",className:"bg-white border border-gray-200 rounded-2xl overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("span",{className:"font-bold",children:"ðŸ’¬ Chat mit Kunde"})}),e.jsx("div",{className:"p-4 min-h-[120px] max-h-[200px] overflow-y-auto bg-gray-50",children:((R=t.messages)==null?void 0:R.length)>0?t.messages.map(s=>e.jsx("div",{className:`mb-2 p-3 rounded-2xl text-sm max-w-[80%] ${s.sender_id===(a==null?void 0:a.id)?"bg-rose-500 text-white ml-auto rounded-br-sm":"bg-white border border-gray-200 rounded-bl-sm"}`,children:s.message},s.id)):e.jsx("p",{className:"text-gray-400 text-sm text-center py-4",children:"Noch keine Nachrichten"})}),e.jsxs("div",{className:"p-3 border-t border-gray-100 flex gap-2",children:[e.jsx("input",{type:"text",value:m,onChange:s=>M(s.target.value),onKeyDown:s=>s.key==="Enter"&&F(),placeholder:"Nachricht schreiben...",className:"flex-1 px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-rose-500"}),e.jsx("button",{onClick:F,disabled:!m.trim(),className:"px-4 bg-rose-500 text-white rounded-xl disabled:opacity-50",children:e.jsx(fe,{size:18})})]})]})]}),t.status!=="delivered"&&e.jsxs("div",{className:"sticky bottom-0 p-4 bg-white border-t border-gray-200",children:[t.status==="picking"&&e.jsx("button",{onClick:()=>w(t.id,"picked"),disabled:!((V=t.items)!=null&&V.every(s=>s.picked)),className:`w-full py-4 rounded-2xl font-bold text-lg flex items-center justify-center gap-2 ${(q=t.items)!=null&&q.every(s=>s.picked)?"bg-gradient-to-r from-rose-500 to-pink-500 text-white":"bg-gray-100 text-gray-400"}`,children:(G=t.items)!=null&&G.every(s=>s.picked)?e.jsxs(e.Fragment,{children:[e.jsx(z,{size:22})," Fertig gepackt"]}):"Erst alle Artikel abhaken"}),t.status==="picked"&&e.jsxs("button",{onClick:()=>w(t.id,"delivering"),className:"w-full py-4 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-2xl font-bold text-lg flex items-center justify-center gap-2",children:[e.jsx(W,{size:22})," Lieferung starten"]}),t.status==="delivering"&&e.jsxs("button",{onClick:()=>w(t.id,"delivered"),className:"w-full py-4 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-2xl font-bold text-lg flex items-center justify-center gap-2",children:[e.jsx(me,{size:22})," Als geliefert markieren"]})]})]})}),e.jsx("style",{children:`
        @keyframes slide-up {
          from { transform: translateY(100%); }
          to { transform: translateY(0); }
        }
        .animate-slide-up {
          animation: slide-up 0.3s ease-out;
        }
      `})]})}export{Se as default};
