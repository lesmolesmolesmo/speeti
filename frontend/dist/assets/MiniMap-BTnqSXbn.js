import{r as c,j as f}from"./index-TnPH2S_w.js";import{m as i}from"./mapbox-gl-CbJENOAs.js";i.accessToken="pk.eyJ1Ijoic3BlZXRpc3BlZXRpIiwiYSI6ImNtbDZ6dHJ4ZzAyZzczY3NpeDdhNHE4aWYifQ.WiNxZwRzk9aPGN9DrjyT3Q";const M=c.memo(function({address:t,height:m=150,className:r=""}){const l=c.useRef(null),n=c.useRef(null);return c.useEffect(()=>l.current?((async()=>{let o,e;if(t!=null&&t.lng&&(t!=null&&t.lat))o=t.lng,e=t.lat;else if(t!=null&&t.street)try{const u=`${t.street} ${t.house_number||""}, ${t.postal_code||""} ${t.city||"MÃ¼nster"}`,p=await(await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(u)}.json?access_token=${i.accessToken}&limit=1`)).json();p.features&&p.features.length>0?[o,e]=p.features[0].center:(o=7.6261,e=51.9607)}catch(u){console.error("Geocode error:",u),o=7.6261,e=51.9607}else o=7.6261,e=51.9607;n.current&&n.current.remove(),n.current=new i.Map({container:l.current,style:"mapbox://styles/mapbox/streets-v12",center:[o,e],zoom:15,interactive:!1,attributionControl:!1}),new i.Marker({color:"#e11d48"}).setLngLat([o,e]).addTo(n.current)})(),()=>{n.current&&(n.current.remove(),n.current=null)}):void 0,[t==null?void 0:t.street,t==null?void 0:t.house_number,t==null?void 0:t.postal_code,t==null?void 0:t.lat,t==null?void 0:t.lng]),f.jsx("div",{ref:l,style:{height:`${m}px`},className:`rounded-xl overflow-hidden ${r}`})});export{M as default};
