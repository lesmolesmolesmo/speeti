import{y as ni}from"./index-TnPH2S_w.js";function ri(Ke,_t){for(var c=0;c<_t.length;c++){const x=_t[c];if(typeof x!="string"&&!Array.isArray(x)){for(const a in x)if(a!=="default"&&!(a in Ke)){const f=Object.getOwnPropertyDescriptor(x,a);f&&Object.defineProperty(Ke,a,f.get?f:{enumerable:!0,get:()=>x[a]})}}}return Object.freeze(Object.defineProperty(Ke,Symbol.toStringTag,{value:"Module"}))}var Jn={exports:{}};(function(Ke,_t){(function(c,x){Ke.exports=x()})(window,function(){return function(c){var x={};function a(f){if(x[f])return x[f].exports;var s=x[f]={i:f,l:!1,exports:{}};return c[f].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=c,a.c=x,a.d=function(f,s,v){a.o(f,s)||Object.defineProperty(f,s,{enumerable:!0,get:v})},a.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},a.t=function(f,s){if(1&s&&(f=a(f)),8&s||4&s&&typeof f=="object"&&f&&f.__esModule)return f;var v=Object.create(null);if(a.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:f}),2&s&&typeof f!="string")for(var p in f)a.d(v,p,(function(m){return f[m]}).bind(null,p));return v},a.n=function(f){var s=f&&f.__esModule?function(){return f.default}:function(){return f};return a.d(s,"a",s),s},a.o=function(f,s){return Object.prototype.hasOwnProperty.call(f,s)},a.p="/",a(a.s=90)}([function(c,x,a){var f=a(68);c.exports=function(s,v,p){return(v=f(v))in s?Object.defineProperty(s,v,{value:p,enumerable:!0,configurable:!0,writable:!0}):s[v]=p,s},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x){function a(f){return c.exports=a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},c.exports.__esModule=!0,c.exports.default=c.exports,a(f)}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x){c.exports=function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x,a){var f=a(68);function s(v,p){for(var m=0;m<p.length;m++){var _=p[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(v,f(_.key),_)}}c.exports=function(v,p,m){return p&&s(v.prototype,p),m&&s(v,m),Object.defineProperty(v,"prototype",{writable:!1}),v},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x,a){var f=a(9).default,s=a(150);c.exports=function(v,p){if(p&&(f(p)=="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s(v)},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x,a){var f=a(38);c.exports=function(s,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(v&&v.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),v&&f(s,v)},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x,a){var f=a(146)();c.exports=f;try{regeneratorRuntime=f}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=f:Function("r","regeneratorRuntime = r")(f)}},function(c,x){function a(f,s,v,p,m,_,M){try{var A=f[_](M),j=A.value}catch(P){return void v(P)}A.done?s(j):Promise.resolve(j).then(p,m)}c.exports=function(f){return function(){var s=this,v=arguments;return new Promise(function(p,m){var _=f.apply(s,v);function M(j){a(_,p,m,M,A,"next",j)}function A(j){a(_,p,m,M,A,"throw",j)}M(void 0)})}},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x,a){var f=a(46),s=typeof self=="object"&&self&&self.Object===Object&&self,v=f||s||Function("return this")();c.exports=v},function(c,x){function a(f){return c.exports=a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},c.exports.__esModule=!0,c.exports.default=c.exports,a(f)}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x){c.exports=function(a){var f=typeof a;return a!=null&&(f=="object"||f=="function")}},function(c,x){c.exports=function(a){return a!=null&&typeof a=="object"}},function(c,x){var a=Array.isArray;c.exports=a},function(c,x,a){var f=a(151);function s(){return c.exports=s=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(v,p,m){var _=f(v,p);if(_){var M=Object.getOwnPropertyDescriptor(_,p);return M.get?M.get.call(arguments.length<3?v:m):M.value}},c.exports.__esModule=!0,c.exports.default=c.exports,s.apply(null,arguments)}c.exports=s,c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x,a){var f=a(102),s=a(108);c.exports=function(v,p){var m=s(v,p);return f(m)?m:void 0}},function(c,x,a){var f=a(91),s=a(134)(function(v,p,m){f(v,p,m)});c.exports=s},function(c,x,a){var f=a(152),s=a(153),v=a(66),p=a(154);c.exports=function(m){return f(m)||s(m)||v(m)||p()},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x,a){var f=a(19),s=a(104),v=a(105),p=f?f.toStringTag:void 0;c.exports=function(m){return m==null?m===void 0?"[object Undefined]":"[object Null]":p&&p in Object(m)?s(m):v(m)}},function(c,x,a){var f=a(60),s=a(29);c.exports=function(v,p,m,_){var M=!m;m||(m={});for(var A=-1,j=p.length;++A<j;){var P=p[A],U=_?_(m[P],v[P],P,m,v):void 0;U===void 0&&(U=v[P]),M?s(m,P,U):f(m,P,U)}return m}},function(c,x,a){var f=a(8).Symbol;c.exports=f},function(c,x,a){var f=a(61),s=a(132),v=a(26);c.exports=function(p){return v(p)?f(p,!0):s(p)}},function(c,x,a){var f=a(92),s=a(93),v=a(94),p=a(95),m=a(96);function _(M){var A=-1,j=M==null?0:M.length;for(this.clear();++A<j;){var P=M[A];this.set(P[0],P[1])}}_.prototype.clear=f,_.prototype.delete=s,_.prototype.get=v,_.prototype.has=p,_.prototype.set=m,c.exports=_},function(c,x,a){var f=a(23);c.exports=function(s,v){for(var p=s.length;p--;)if(f(s[p][0],v))return p;return-1}},function(c,x){c.exports=function(a,f){return a===f||a!=a&&f!=f}},function(c,x,a){var f=a(14)(Object,"create");c.exports=f},function(c,x,a){var f=a(117);c.exports=function(s,v){var p=s.__data__;return f(v)?p[typeof v=="string"?"string":"hash"]:p.map}},function(c,x,a){var f=a(28),s=a(56);c.exports=function(v){return v!=null&&s(v.length)&&!f(v)}},function(c,x,a){var f=a(14)(a(8),"Map");c.exports=f},function(c,x,a){var f=a(17),s=a(10);c.exports=function(v){if(!s(v))return!1;var p=f(v);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}},function(c,x,a){var f=a(50);c.exports=function(s,v,p){v=="__proto__"&&f?f(s,v,{configurable:!0,enumerable:!0,value:p,writable:!0}):s[v]=p}},function(c,x){c.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,get:function(){return a.i}}),a.webpackPolyfill=1),a}},function(c,x,a){var f=a(124);c.exports=function(s){var v=new s.constructor(s.byteLength);return new f(v).set(new f(s)),v}},function(c,x,a){var f=a(55)(Object.getPrototypeOf,Object);c.exports=f},function(c,x){var a=Object.prototype;c.exports=function(f){var s=f&&f.constructor;return f===(typeof s=="function"&&s.prototype||a)}},function(c,x,a){var f=a(126),s=a(11),v=Object.prototype,p=v.hasOwnProperty,m=v.propertyIsEnumerable,_=f(function(){return arguments}())?f:function(M){return s(M)&&p.call(M,"callee")&&!m.call(M,"callee")};c.exports=_},function(c,x,a){(function(f){var s=a(8),v=a(128),p=x&&!x.nodeType&&x,m=p&&typeof f=="object"&&f&&!f.nodeType&&f,_=m&&m.exports===p?s.Buffer:void 0,M=(_?_.isBuffer:void 0)||v;f.exports=M}).call(this,a(30)(c))},function(c,x){c.exports=function(a){return function(f){return a(f)}}},function(c,x,a){(function(f){var s=a(46),v=x&&!x.nodeType&&x,p=v&&typeof f=="object"&&f&&!f.nodeType&&f,m=p&&p.exports===v&&s.process,_=function(){try{var M=p&&p.require&&p.require("util").types;return M||m&&m.binding&&m.binding("util")}catch{}}();f.exports=_}).call(this,a(30)(c))},function(c,x){function a(f,s){return c.exports=a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(v,p){return v.__proto__=p,v},c.exports.__esModule=!0,c.exports.default=c.exports,a(f,s)}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x,a){var f=a(61),s=a(159),v=a(26);c.exports=function(p){return v(p)?f(p):s(p)}},function(c,x,a){var f=a(163),s=a(75),v=Object.prototype.propertyIsEnumerable,p=Object.getOwnPropertySymbols,m=p?function(_){return _==null?[]:(_=Object(_),f(p(_),function(M){return v.call(_,M)}))}:s;c.exports=m},function(c,x){c.exports=function(a,f){for(var s=-1,v=f.length,p=a.length;++s<v;)a[p+s]=f[s];return a}},function(c,x,a){var f=a(166),s=a(27),v=a(167),p=a(168),m=a(169),_=a(17),M=a(47),A=M(f),j=M(s),P=M(v),U=M(p),I=M(m),G=_;(f&&G(new f(new ArrayBuffer(1)))!="[object DataView]"||s&&G(new s)!="[object Map]"||v&&G(v.resolve())!="[object Promise]"||p&&G(new p)!="[object Set]"||m&&G(new m)!="[object WeakMap]")&&(G=function(z){var $=_(z),S=$=="[object Object]"?z.constructor:void 0,F=S?M(S):"";if(F)switch(F){case A:return"[object DataView]";case j:return"[object Map]";case P:return"[object Promise]";case U:return"[object Set]";case I:return"[object WeakMap]"}return $}),c.exports=G},function(c,x,a){var f=a(12),s=a(180),v=a(181),p=a(184);c.exports=function(m,_){return f(m)?m:s(m,_)?[m]:v(p(m))}},function(c,x,a){var f=a(17),s=a(11);c.exports=function(v){return typeof v=="symbol"||s(v)&&f(v)=="[object Symbol]"}},function(c,x,a){var f=a(21),s=a(97),v=a(98),p=a(99),m=a(100),_=a(101);function M(A){var j=this.__data__=new f(A);this.size=j.size}M.prototype.clear=s,M.prototype.delete=v,M.prototype.get=p,M.prototype.has=m,M.prototype.set=_,c.exports=M},function(c,x,a){(function(f){var s=typeof f=="object"&&f&&f.Object===Object&&f;c.exports=s}).call(this,a(103))},function(c,x){var a=Function.prototype.toString;c.exports=function(f){if(f!=null){try{return a.call(f)}catch{}try{return f+""}catch{}}return""}},function(c,x,a){var f=a(109),s=a(116),v=a(118),p=a(119),m=a(120);function _(M){var A=-1,j=M==null?0:M.length;for(this.clear();++A<j;){var P=M[A];this.set(P[0],P[1])}}_.prototype.clear=f,_.prototype.delete=s,_.prototype.get=v,_.prototype.has=p,_.prototype.set=m,c.exports=_},function(c,x,a){var f=a(29),s=a(23);c.exports=function(v,p,m){(m!==void 0&&!s(v[p],m)||m===void 0&&!(p in v))&&f(v,p,m)}},function(c,x,a){var f=a(14),s=function(){try{var v=f(Object,"defineProperty");return v({},"",{}),v}catch{}}();c.exports=s},function(c,x,a){(function(f){var s=a(8),v=x&&!x.nodeType&&x,p=v&&typeof f=="object"&&f&&!f.nodeType&&f,m=p&&p.exports===v?s.Buffer:void 0,_=m?m.allocUnsafe:void 0;f.exports=function(M,A){if(A)return M.slice();var j=M.length,P=_?_(j):new M.constructor(j);return M.copy(P),P}}).call(this,a(30)(c))},function(c,x,a){var f=a(31);c.exports=function(s,v){var p=v?f(s.buffer):s.buffer;return new s.constructor(p,s.byteOffset,s.length)}},function(c,x){c.exports=function(a,f){var s=-1,v=a.length;for(f||(f=Array(v));++s<v;)f[s]=a[s];return f}},function(c,x,a){var f=a(125),s=a(32),v=a(33);c.exports=function(p){return typeof p.constructor!="function"||v(p)?{}:f(s(p))}},function(c,x){c.exports=function(a,f){return function(s){return a(f(s))}}},function(c,x){c.exports=function(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=9007199254740991}},function(c,x,a){var f=a(17),s=a(32),v=a(11),p=Function.prototype,m=Object.prototype,_=p.toString,M=m.hasOwnProperty,A=_.call(Object);c.exports=function(j){if(!v(j)||f(j)!="[object Object]")return!1;var P=s(j);if(P===null)return!0;var U=M.call(P,"constructor")&&P.constructor;return typeof U=="function"&&U instanceof U&&_.call(U)==A}},function(c,x,a){var f=a(129),s=a(36),v=a(37),p=v&&v.isTypedArray,m=p?s(p):f;c.exports=m},function(c,x){c.exports=function(a,f){if((f!=="constructor"||typeof a[f]!="function")&&f!="__proto__")return a[f]}},function(c,x,a){var f=a(29),s=a(23),v=Object.prototype.hasOwnProperty;c.exports=function(p,m,_){var M=p[m];v.call(p,m)&&s(M,_)&&(_!==void 0||m in p)||f(p,m,_)}},function(c,x,a){var f=a(131),s=a(34),v=a(12),p=a(35),m=a(62),_=a(58),M=Object.prototype.hasOwnProperty;c.exports=function(A,j){var P=v(A),U=!P&&s(A),I=!P&&!U&&p(A),G=!P&&!U&&!I&&_(A),z=P||U||I||G,$=z?f(A.length,String):[],S=$.length;for(var F in A)!j&&!M.call(A,F)||z&&(F=="length"||I&&(F=="offset"||F=="parent")||G&&(F=="buffer"||F=="byteLength"||F=="byteOffset")||m(F,S))||$.push(F);return $}},function(c,x){var a=/^(?:0|[1-9]\d*)$/;c.exports=function(f,s){var v=typeof f;return!!(s=s??9007199254740991)&&(v=="number"||v!="symbol"&&a.test(f))&&f>-1&&f%1==0&&f<s}},function(c,x){c.exports=function(a){return a}},function(c,x,a){var f=a(136),s=Math.max;c.exports=function(v,p,m){return p=s(p===void 0?v.length-1:p,0),function(){for(var _=arguments,M=-1,A=s(_.length-p,0),j=Array(A);++M<A;)j[M]=_[p+M];M=-1;for(var P=Array(p+1);++M<p;)P[M]=_[M];return P[p]=m(j),f(v,this,P)}}},function(c,x,a){var f=a(137),s=a(139)(f);c.exports=s},function(c,x,a){var f=a(67);c.exports=function(s,v){if(s){if(typeof s=="string")return f(s,v);var p={}.toString.call(s).slice(8,-1);return p==="Object"&&s.constructor&&(p=s.constructor.name),p==="Map"||p==="Set"?Array.from(s):p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p)?f(s,v):void 0}},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x){c.exports=function(a,f){(f==null||f>a.length)&&(f=a.length);for(var s=0,v=Array(f);s<f;s++)v[s]=a[s];return v},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x,a){var f=a(9).default,s=a(145);c.exports=function(v){var p=s(v,"string");return f(p)=="symbol"?p:p+""},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x){c.exports=function(a,f){this.v=a,this.k=f},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x,a){var f=a(71);function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var v,p,m=typeof Symbol=="function"?Symbol:{},_=m.iterator||"@@iterator",M=m.toStringTag||"@@toStringTag";function A(S,F,Q,ne){var pe=F&&F.prototype instanceof P?F:P,he=Object.create(pe.prototype);return f(he,"_invoke",function(_e,q,ee){var W,B,Z,me=0,ge=ee||[],re=!1,K={p:0,n:0,v,a:be,f:be.bind(v,4),d:function(oe,ce){return W=oe,B=0,Z=v,K.n=ce,j}};function be(oe,ce){for(B=oe,Z=ce,p=0;!re&&me&&!ye&&p<ge.length;p++){var ye,te=ge[p],ze=K.p,ke=te[2];oe>3?(ye=ke===ce)&&(Z=te[(B=te[4])?5:(B=3,3)],te[4]=te[5]=v):te[0]<=ze&&((ye=oe<2&&ze<te[1])?(B=0,K.v=ce,K.n=te[1]):ze<ke&&(ye=oe<3||te[0]>ce||ce>ke)&&(te[4]=oe,te[5]=ce,K.n=ke,B=0))}if(ye||oe>1)return j;throw re=!0,ce}return function(oe,ce,ye){if(me>1)throw TypeError("Generator is already running");for(re&&ce===1&&be(ce,ye),B=ce,Z=ye;(p=B<2?v:Z)||!re;){W||(B?B<3?(B>1&&(K.n=-1),be(B,Z)):K.n=Z:K.v=Z);try{if(me=2,W){if(B||(oe="next"),p=W[oe]){if(!(p=p.call(W,Z)))throw TypeError("iterator result is not an object");if(!p.done)return p;Z=p.value,B<2&&(B=0)}else B===1&&(p=W.return)&&p.call(W),B<2&&(Z=TypeError("The iterator does not provide a '"+oe+"' method"),B=1);W=v}else if((p=(re=K.n<0)?Z:_e.call(q,K))!==j)break}catch(te){W=v,B=1,Z=te}finally{me=1}}return{value:p,done:re}}}(S,Q,ne),!0),he}var j={};function P(){}function U(){}function I(){}p=Object.getPrototypeOf;var G=[][_]?p(p([][_]())):(f(p={},_,function(){return this}),p),z=I.prototype=P.prototype=Object.create(G);function $(S){return Object.setPrototypeOf?Object.setPrototypeOf(S,I):(S.__proto__=I,f(S,M,"GeneratorFunction")),S.prototype=Object.create(z),S}return U.prototype=I,f(z,"constructor",I),f(I,"constructor",U),U.displayName="GeneratorFunction",f(I,M,"GeneratorFunction"),f(z),f(z,M,"Generator"),f(z,_,function(){return this}),f(z,"toString",function(){return"[object Generator]"}),(c.exports=s=function(){return{w:A,m:$}},c.exports.__esModule=!0,c.exports.default=c.exports)()}c.exports=s,c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x){function a(f,s,v,p){var m=Object.defineProperty;try{m({},"",{})}catch{m=0}c.exports=a=function(_,M,A,j){function P(U,I){a(_,U,function(G){return this._invoke(U,I,G)})}M?m?m(_,M,{value:A,enumerable:!j,configurable:!j,writable:!j}):_[M]=A:(P("next",0),P("throw",1),P("return",2))},c.exports.__esModule=!0,c.exports.default=c.exports,a(f,s,v,p)}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x,a){var f=a(70),s=a(73);c.exports=function(v,p,m,_,M){return new s(f().w(v,p,m,_),M||Promise)},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x,a){var f=a(69),s=a(71);c.exports=function v(p,m){function _(A,j,P,U){try{var I=p[A](j),G=I.value;return G instanceof f?m.resolve(G.v).then(function(z){_("next",z,P,U)},function(z){_("throw",z,P,U)}):m.resolve(G).then(function(z){I.value=z,P(I)},function(z){return _("throw",z,P,U)})}catch(z){U(z)}}var M;this.next||(s(v.prototype),s(v.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),s(this,"_invoke",function(A,j,P){function U(){return new m(function(I,G){_(A,P,I,G)})}return M=M?M.then(U,U):U()},!0)},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x){c.exports=function(a,f){for(var s=-1,v=a==null?0:a.length,p=Array(v);++s<v;)p[s]=f(a[s],s,a);return p}},function(c,x){c.exports=function(){return[]}},function(c,x,a){var f=a(41),s=a(32),v=a(40),p=a(75),m=Object.getOwnPropertySymbols?function(_){for(var M=[];_;)f(M,v(_)),_=s(_);return M}:p;c.exports=m},function(c,x,a){var f=a(41),s=a(12);c.exports=function(v,p,m){var _=p(v);return s(v)?_:f(_,m(v))}},function(c,x,a){var f=a(77),s=a(76),v=a(20);c.exports=function(p){return f(p,v,s)}},function(c,x,a){var f=a(44);c.exports=function(s){if(typeof s=="string"||f(s))return s;var v=s+"";return v=="0"&&1/s==-1/0?"-0":v}},function(c,x,a){var f=a(142),s=a(143),v=a(66),p=a(144);c.exports=function(m,_){return f(m)||s(m,_)||v(m,_)||p()},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x,a){var f=a(155);c.exports=function(s,v){if(s==null)return{};var p,m,_=f(s,v);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(s);for(m=0;m<M.length;m++)p=M[m],v.indexOf(p)===-1&&{}.propertyIsEnumerable.call(s,p)&&(_[p]=s[p])}return _},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x,a){var f=a(74),s=a(156),v=a(179),p=a(43),m=a(18),_=a(190),M=a(191),A=a(78),j=M(function(P,U){var I={};if(P==null)return I;var G=!1;U=f(U,function($){return $=p($,P),G||(G=$.length>1),$}),m(P,A(P),I),G&&(I=s(I,7,_));for(var z=U.length;z--;)v(I,U[z]);return I});c.exports=j},function(c,x,a){var f=a(1),s=a(38),v=a(195),p=a(196);function m(_){var M=typeof Map=="function"?new Map:void 0;return c.exports=m=function(A){if(A===null||!v(A))return A;if(typeof A!="function")throw new TypeError("Super expression must either be null or a function");if(M!==void 0){if(M.has(A))return M.get(A);M.set(A,j)}function j(){return p(A,arguments,f(this).constructor)}return j.prototype=Object.create(A.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),s(j,A)},c.exports.__esModule=!0,c.exports.default=c.exports,m(_)}c.exports=m,c.exports.__esModule=!0,c.exports.default=c.exports},,,,,,,function(c,x,a){c.exports=a(198)},function(c,x,a){var f=a(45),s=a(49),v=a(121),p=a(123),m=a(10),_=a(20),M=a(59);c.exports=function A(j,P,U,I,G){j!==P&&v(P,function(z,$){if(G||(G=new f),m(z))p(j,P,$,U,A,I,G);else{var S=I?I(M(j,$),z,$+"",j,P,G):void 0;S===void 0&&(S=z),s(j,$,S)}},_)}},function(c,x){c.exports=function(){this.__data__=[],this.size=0}},function(c,x,a){var f=a(22),s=Array.prototype.splice;c.exports=function(v){var p=this.__data__,m=f(p,v);return!(m<0)&&(m==p.length-1?p.pop():s.call(p,m,1),--this.size,!0)}},function(c,x,a){var f=a(22);c.exports=function(s){var v=this.__data__,p=f(v,s);return p<0?void 0:v[p][1]}},function(c,x,a){var f=a(22);c.exports=function(s){return f(this.__data__,s)>-1}},function(c,x,a){var f=a(22);c.exports=function(s,v){var p=this.__data__,m=f(p,s);return m<0?(++this.size,p.push([s,v])):p[m][1]=v,this}},function(c,x,a){var f=a(21);c.exports=function(){this.__data__=new f,this.size=0}},function(c,x){c.exports=function(a){var f=this.__data__,s=f.delete(a);return this.size=f.size,s}},function(c,x){c.exports=function(a){return this.__data__.get(a)}},function(c,x){c.exports=function(a){return this.__data__.has(a)}},function(c,x,a){var f=a(21),s=a(27),v=a(48);c.exports=function(p,m){var _=this.__data__;if(_ instanceof f){var M=_.__data__;if(!s||M.length<199)return M.push([p,m]),this.size=++_.size,this;_=this.__data__=new v(M)}return _.set(p,m),this.size=_.size,this}},function(c,x,a){var f=a(28),s=a(106),v=a(10),p=a(47),m=/^\[object .+?Constructor\]$/,_=Function.prototype,M=Object.prototype,A=_.toString,j=M.hasOwnProperty,P=RegExp("^"+A.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");c.exports=function(U){return!(!v(U)||s(U))&&(f(U)?P:m).test(p(U))}},function(c,x){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}c.exports=a},function(c,x,a){var f=a(19),s=Object.prototype,v=s.hasOwnProperty,p=s.toString,m=f?f.toStringTag:void 0;c.exports=function(_){var M=v.call(_,m),A=_[m];try{_[m]=void 0;var j=!0}catch{}var P=p.call(_);return j&&(M?_[m]=A:delete _[m]),P}},function(c,x){var a=Object.prototype.toString;c.exports=function(f){return a.call(f)}},function(c,x,a){var f,s=a(107),v=(f=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"";c.exports=function(p){return!!v&&v in p}},function(c,x,a){var f=a(8)["__core-js_shared__"];c.exports=f},function(c,x){c.exports=function(a,f){return a==null?void 0:a[f]}},function(c,x,a){var f=a(110),s=a(21),v=a(27);c.exports=function(){this.size=0,this.__data__={hash:new f,map:new(v||s),string:new f}}},function(c,x,a){var f=a(111),s=a(112),v=a(113),p=a(114),m=a(115);function _(M){var A=-1,j=M==null?0:M.length;for(this.clear();++A<j;){var P=M[A];this.set(P[0],P[1])}}_.prototype.clear=f,_.prototype.delete=s,_.prototype.get=v,_.prototype.has=p,_.prototype.set=m,c.exports=_},function(c,x,a){var f=a(24);c.exports=function(){this.__data__=f?f(null):{},this.size=0}},function(c,x){c.exports=function(a){var f=this.has(a)&&delete this.__data__[a];return this.size-=f?1:0,f}},function(c,x,a){var f=a(24),s=Object.prototype.hasOwnProperty;c.exports=function(v){var p=this.__data__;if(f){var m=p[v];return m==="__lodash_hash_undefined__"?void 0:m}return s.call(p,v)?p[v]:void 0}},function(c,x,a){var f=a(24),s=Object.prototype.hasOwnProperty;c.exports=function(v){var p=this.__data__;return f?p[v]!==void 0:s.call(p,v)}},function(c,x,a){var f=a(24);c.exports=function(s,v){var p=this.__data__;return this.size+=this.has(s)?0:1,p[s]=f&&v===void 0?"__lodash_hash_undefined__":v,this}},function(c,x,a){var f=a(25);c.exports=function(s){var v=f(this,s).delete(s);return this.size-=v?1:0,v}},function(c,x){c.exports=function(a){var f=typeof a;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?a!=="__proto__":a===null}},function(c,x,a){var f=a(25);c.exports=function(s){return f(this,s).get(s)}},function(c,x,a){var f=a(25);c.exports=function(s){return f(this,s).has(s)}},function(c,x,a){var f=a(25);c.exports=function(s,v){var p=f(this,s),m=p.size;return p.set(s,v),this.size+=p.size==m?0:1,this}},function(c,x,a){var f=a(122)();c.exports=f},function(c,x){c.exports=function(a){return function(f,s,v){for(var p=-1,m=Object(f),_=v(f),M=_.length;M--;){var A=_[a?M:++p];if(s(m[A],A,m)===!1)break}return f}}},function(c,x,a){var f=a(49),s=a(51),v=a(52),p=a(53),m=a(54),_=a(34),M=a(12),A=a(127),j=a(35),P=a(28),U=a(10),I=a(57),G=a(58),z=a(59),$=a(130);c.exports=function(S,F,Q,ne,pe,he,_e){var q=z(S,Q),ee=z(F,Q),W=_e.get(ee);if(W)f(S,Q,W);else{var B=he?he(q,ee,Q+"",S,F,_e):void 0,Z=B===void 0;if(Z){var me=M(ee),ge=!me&&j(ee),re=!me&&!ge&&G(ee);B=ee,me||ge||re?M(q)?B=q:A(q)?B=p(q):ge?(Z=!1,B=s(ee,!0)):re?(Z=!1,B=v(ee,!0)):B=[]:I(ee)||_(ee)?(B=q,_(q)?B=$(q):U(q)&&!P(q)||(B=m(ee))):Z=!1}Z&&(_e.set(ee,B),pe(B,ee,ne,he,_e),_e.delete(ee)),f(S,Q,B)}}},function(c,x,a){var f=a(8).Uint8Array;c.exports=f},function(c,x,a){var f=a(10),s=Object.create,v=function(){function p(){}return function(m){if(!f(m))return{};if(s)return s(m);p.prototype=m;var _=new p;return p.prototype=void 0,_}}();c.exports=v},function(c,x,a){var f=a(17),s=a(11);c.exports=function(v){return s(v)&&f(v)=="[object Arguments]"}},function(c,x,a){var f=a(26),s=a(11);c.exports=function(v){return s(v)&&f(v)}},function(c,x){c.exports=function(){return!1}},function(c,x,a){var f=a(17),s=a(56),v=a(11),p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p["[object Arguments]"]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p["[object Map]"]=p["[object Number]"]=p["[object Object]"]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object WeakMap]"]=!1,c.exports=function(m){return v(m)&&s(m.length)&&!!p[f(m)]}},function(c,x,a){var f=a(18),s=a(20);c.exports=function(v){return f(v,s(v))}},function(c,x){c.exports=function(a,f){for(var s=-1,v=Array(a);++s<a;)v[s]=f(s);return v}},function(c,x,a){var f=a(10),s=a(33),v=a(133),p=Object.prototype.hasOwnProperty;c.exports=function(m){if(!f(m))return v(m);var _=s(m),M=[];for(var A in m)(A!="constructor"||!_&&p.call(m,A))&&M.push(A);return M}},function(c,x){c.exports=function(a){var f=[];if(a!=null)for(var s in Object(a))f.push(s);return f}},function(c,x,a){var f=a(135),s=a(140);c.exports=function(v){return f(function(p,m){var _=-1,M=m.length,A=M>1?m[M-1]:void 0,j=M>2?m[2]:void 0;for(A=v.length>3&&typeof A=="function"?(M--,A):void 0,j&&s(m[0],m[1],j)&&(A=M<3?void 0:A,M=1),p=Object(p);++_<M;){var P=m[_];P&&v(p,P,_,A)}return p})}},function(c,x,a){var f=a(63),s=a(64),v=a(65);c.exports=function(p,m){return v(s(p,m,f),p+"")}},function(c,x){c.exports=function(a,f,s){switch(s.length){case 0:return a.call(f);case 1:return a.call(f,s[0]);case 2:return a.call(f,s[0],s[1]);case 3:return a.call(f,s[0],s[1],s[2])}return a.apply(f,s)}},function(c,x,a){var f=a(138),s=a(50),v=a(63),p=s?function(m,_){return s(m,"toString",{configurable:!0,enumerable:!1,value:f(_),writable:!0})}:v;c.exports=p},function(c,x){c.exports=function(a){return function(){return a}}},function(c,x){var a=Date.now;c.exports=function(f){var s=0,v=0;return function(){var p=a(),m=16-(p-v);if(v=p,m>0){if(++s>=800)return arguments[0]}else s=0;return f.apply(void 0,arguments)}}},function(c,x,a){var f=a(23),s=a(26),v=a(62),p=a(10);c.exports=function(m,_,M){if(!p(M))return!1;var A=typeof _;return!!(A=="number"?s(M)&&v(_,M.length):A=="string"&&_ in M)&&f(M[_],m)}},function(c,x){typeof window<"u"&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)})),typeof Math.imul!="function"&&(Math.imul=function(a,f){var s=65535&a,v=65535&f;return s*v+((a>>>16&65535)*v+s*(f>>>16&65535)<<16>>>0)|0}),typeof Object.assign!="function"&&(Object.assign=function(a){if(a===null)throw new TypeError("Cannot convert undefined or null to object");for(var f=Object(a),s=1;s<arguments.length;s++){var v=arguments[s];if(v!==null)for(var p in v)Object.prototype.hasOwnProperty.call(v,p)&&(f[p]=v[p])}return f})},function(c,x){c.exports=function(a){if(Array.isArray(a))return a},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x){c.exports=function(a,f){var s=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(s!=null){var v,p,m,_,M=[],A=!0,j=!1;try{if(m=(s=s.call(a)).next,f===0){if(Object(s)!==s)return;A=!1}else for(;!(A=(v=m.call(s)).done)&&(M.push(v.value),M.length!==f);A=!0);}catch(P){j=!0,p=P}finally{try{if(!A&&s.return!=null&&(_=s.return(),Object(_)!==_))return}finally{if(j)throw p}}return M}},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x){c.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x,a){var f=a(9).default;c.exports=function(s,v){if(f(s)!="object"||!s)return s;var p=s[Symbol.toPrimitive];if(p!==void 0){var m=p.call(s,v||"default");if(f(m)!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(s)},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x,a){var f=a(69),s=a(70),v=a(147),p=a(72),m=a(73),_=a(148),M=a(149);function A(){var j=s(),P=j.m(A),U=(Object.getPrototypeOf?Object.getPrototypeOf(P):P.__proto__).constructor;function I($){var S=typeof $=="function"&&$.constructor;return!!S&&(S===U||(S.displayName||S.name)==="GeneratorFunction")}var G={throw:1,return:2,break:3,continue:3};function z($){var S,F;return function(Q){S||(S={stop:function(){return F(Q.a,2)},catch:function(){return Q.v},abrupt:function(ne,pe){return F(Q.a,G[ne],pe)},delegateYield:function(ne,pe,he){return S.resultName=pe,F(Q.d,M(ne),he)},finish:function(ne){return F(Q.f,ne)}},F=function(ne,pe,he){Q.p=S.prev,Q.n=S.next;try{return ne(pe,he)}finally{S.next=Q.n}}),S.resultName&&(S[S.resultName]=Q.v,S.resultName=void 0),S.sent=Q.v,S.next=Q.n;try{return $.call(this,S)}finally{Q.p=S.prev,Q.n=S.next}}}return(c.exports=A=function(){return{wrap:function($,S,F,Q){return j.w(z($),S,F,Q&&Q.reverse())},isGeneratorFunction:I,mark:j.m,awrap:function($,S){return new f($,S)},AsyncIterator:m,async:function($,S,F,Q,ne){return(I(S)?p:v)(z($),S,F,Q,ne)},keys:_,values:M}},c.exports.__esModule=!0,c.exports.default=c.exports)()}c.exports=A,c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x,a){var f=a(72);c.exports=function(s,v,p,m,_){var M=f(s,v,p,m,_);return M.next().then(function(A){return A.done?A.value:M.next()})},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x){c.exports=function(a){var f=Object(a),s=[];for(var v in f)s.unshift(v);return function p(){for(;s.length;)if((v=s.pop())in f)return p.value=v,p.done=!1,p;return p.done=!0,p}},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x,a){var f=a(9).default;c.exports=function(s){if(s!=null){var v=s[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],p=0;if(v)return v.call(s);if(typeof s.next=="function")return s;if(!isNaN(s.length))return{next:function(){return s&&p>=s.length&&(s=void 0),{value:s&&s[p++],done:!s}}}}throw new TypeError(f(s)+" is not iterable")},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x){c.exports=function(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x,a){var f=a(1);c.exports=function(s,v){for(;!{}.hasOwnProperty.call(s,v)&&(s=f(s))!==null;);return s},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x,a){var f=a(67);c.exports=function(s){if(Array.isArray(s))return f(s)},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x){c.exports=function(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x){c.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x){c.exports=function(a,f){if(a==null)return{};var s={};for(var v in a)if({}.hasOwnProperty.call(a,v)){if(f.indexOf(v)!==-1)continue;s[v]=a[v]}return s},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x,a){var f=a(45),s=a(157),v=a(60),p=a(158),m=a(161),_=a(51),M=a(53),A=a(162),j=a(164),P=a(165),U=a(78),I=a(42),G=a(170),z=a(171),$=a(54),S=a(12),F=a(35),Q=a(175),ne=a(10),pe=a(177),he=a(39),_e=a(20),q={};q["[object Arguments]"]=q["[object Array]"]=q["[object ArrayBuffer]"]=q["[object DataView]"]=q["[object Boolean]"]=q["[object Date]"]=q["[object Float32Array]"]=q["[object Float64Array]"]=q["[object Int8Array]"]=q["[object Int16Array]"]=q["[object Int32Array]"]=q["[object Map]"]=q["[object Number]"]=q["[object Object]"]=q["[object RegExp]"]=q["[object Set]"]=q["[object String]"]=q["[object Symbol]"]=q["[object Uint8Array]"]=q["[object Uint8ClampedArray]"]=q["[object Uint16Array]"]=q["[object Uint32Array]"]=!0,q["[object Error]"]=q["[object Function]"]=q["[object WeakMap]"]=!1,c.exports=function ee(W,B,Z,me,ge,re){var K,be=1&B,oe=2&B,ce=4&B;if(Z&&(K=ge?Z(W,me,ge,re):Z(W)),K!==void 0)return K;if(!ne(W))return W;var ye=S(W);if(ye){if(K=G(W),!be)return M(W,K)}else{var te=I(W),ze=te=="[object Function]"||te=="[object GeneratorFunction]";if(F(W))return _(W,be);if(te=="[object Object]"||te=="[object Arguments]"||ze&&!ge){if(K=oe||ze?{}:$(W),!be)return oe?j(W,m(K,W)):A(W,p(K,W))}else{if(!q[te])return ge?W:{};K=z(W,te,be)}}re||(re=new f);var ke=re.get(W);if(ke)return ke;re.set(W,K),pe(W)?W.forEach(function(Ce){K.add(ee(Ce,B,Z,Ce,W,re))}):Q(W)&&W.forEach(function(Ce,Ue){K.set(Ue,ee(Ce,B,Z,Ue,W,re))});var Je=ye?void 0:(ce?oe?U:P:oe?_e:he)(W);return s(Je||W,function(Ce,Ue){Je&&(Ce=W[Ue=Ce]),v(K,Ue,ee(Ce,B,Z,Ue,W,re))}),K}},function(c,x){c.exports=function(a,f){for(var s=-1,v=a==null?0:a.length;++s<v&&f(a[s],s,a)!==!1;);return a}},function(c,x,a){var f=a(18),s=a(39);c.exports=function(v,p){return v&&f(p,s(p),v)}},function(c,x,a){var f=a(33),s=a(160),v=Object.prototype.hasOwnProperty;c.exports=function(p){if(!f(p))return s(p);var m=[];for(var _ in Object(p))v.call(p,_)&&_!="constructor"&&m.push(_);return m}},function(c,x,a){var f=a(55)(Object.keys,Object);c.exports=f},function(c,x,a){var f=a(18),s=a(20);c.exports=function(v,p){return v&&f(p,s(p),v)}},function(c,x,a){var f=a(18),s=a(40);c.exports=function(v,p){return f(v,s(v),p)}},function(c,x){c.exports=function(a,f){for(var s=-1,v=a==null?0:a.length,p=0,m=[];++s<v;){var _=a[s];f(_,s,a)&&(m[p++]=_)}return m}},function(c,x,a){var f=a(18),s=a(76);c.exports=function(v,p){return f(v,s(v),p)}},function(c,x,a){var f=a(77),s=a(40),v=a(39);c.exports=function(p){return f(p,v,s)}},function(c,x,a){var f=a(14)(a(8),"DataView");c.exports=f},function(c,x,a){var f=a(14)(a(8),"Promise");c.exports=f},function(c,x,a){var f=a(14)(a(8),"Set");c.exports=f},function(c,x,a){var f=a(14)(a(8),"WeakMap");c.exports=f},function(c,x){var a=Object.prototype.hasOwnProperty;c.exports=function(f){var s=f.length,v=new f.constructor(s);return s&&typeof f[0]=="string"&&a.call(f,"index")&&(v.index=f.index,v.input=f.input),v}},function(c,x,a){var f=a(31),s=a(172),v=a(173),p=a(174),m=a(52);c.exports=function(_,M,A){var j=_.constructor;switch(M){case"[object ArrayBuffer]":return f(_);case"[object Boolean]":case"[object Date]":return new j(+_);case"[object DataView]":return s(_,A);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return m(_,A);case"[object Map]":return new j;case"[object Number]":case"[object String]":return new j(_);case"[object RegExp]":return v(_);case"[object Set]":return new j;case"[object Symbol]":return p(_)}}},function(c,x,a){var f=a(31);c.exports=function(s,v){var p=v?f(s.buffer):s.buffer;return new s.constructor(p,s.byteOffset,s.byteLength)}},function(c,x){var a=/\w*$/;c.exports=function(f){var s=new f.constructor(f.source,a.exec(f));return s.lastIndex=f.lastIndex,s}},function(c,x,a){var f=a(19),s=f?f.prototype:void 0,v=s?s.valueOf:void 0;c.exports=function(p){return v?Object(v.call(p)):{}}},function(c,x,a){var f=a(176),s=a(36),v=a(37),p=v&&v.isMap,m=p?s(p):f;c.exports=m},function(c,x,a){var f=a(42),s=a(11);c.exports=function(v){return s(v)&&f(v)=="[object Map]"}},function(c,x,a){var f=a(178),s=a(36),v=a(37),p=v&&v.isSet,m=p?s(p):f;c.exports=m},function(c,x,a){var f=a(42),s=a(11);c.exports=function(v){return s(v)&&f(v)=="[object Set]"}},function(c,x,a){var f=a(43),s=a(186),v=a(187),p=a(79);c.exports=function(m,_){return _=f(_,m),(m=v(m,_))==null||delete m[p(s(_))]}},function(c,x,a){var f=a(12),s=a(44),v=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p=/^\w*$/;c.exports=function(m,_){if(f(m))return!1;var M=typeof m;return!(M!="number"&&M!="symbol"&&M!="boolean"&&m!=null&&!s(m))||p.test(m)||!v.test(m)||_!=null&&m in Object(_)}},function(c,x,a){var f=a(182),s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,v=/\\(\\)?/g,p=f(function(m){var _=[];return m.charCodeAt(0)===46&&_.push(""),m.replace(s,function(M,A,j,P){_.push(j?P.replace(v,"$1"):A||M)}),_});c.exports=p},function(c,x,a){var f=a(183);c.exports=function(s){var v=f(s,function(m){return p.size===500&&p.clear(),m}),p=v.cache;return v}},function(c,x,a){var f=a(48);function s(v,p){if(typeof v!="function"||p!=null&&typeof p!="function")throw new TypeError("Expected a function");var m=function(){var _=arguments,M=p?p.apply(this,_):_[0],A=m.cache;if(A.has(M))return A.get(M);var j=v.apply(this,_);return m.cache=A.set(M,j)||A,j};return m.cache=new(s.Cache||f),m}s.Cache=f,c.exports=s},function(c,x,a){var f=a(185);c.exports=function(s){return s==null?"":f(s)}},function(c,x,a){var f=a(19),s=a(74),v=a(12),p=a(44),m=f?f.prototype:void 0,_=m?m.toString:void 0;c.exports=function M(A){if(typeof A=="string")return A;if(v(A))return s(A,M)+"";if(p(A))return _?_.call(A):"";var j=A+"";return j=="0"&&1/A==-1/0?"-0":j}},function(c,x){c.exports=function(a){var f=a==null?0:a.length;return f?a[f-1]:void 0}},function(c,x,a){var f=a(188),s=a(189);c.exports=function(v,p){return p.length<2?v:f(v,s(p,0,-1))}},function(c,x,a){var f=a(43),s=a(79);c.exports=function(v,p){for(var m=0,_=(p=f(p,v)).length;v!=null&&m<_;)v=v[s(p[m++])];return m&&m==_?v:void 0}},function(c,x){c.exports=function(a,f,s){var v=-1,p=a.length;f<0&&(f=-f>p?0:p+f),(s=s>p?p:s)<0&&(s+=p),p=f>s?0:s-f>>>0,f>>>=0;for(var m=Array(p);++v<p;)m[v]=a[v+f];return m}},function(c,x,a){var f=a(57);c.exports=function(s){return f(s)?void 0:s}},function(c,x,a){var f=a(192),s=a(64),v=a(65);c.exports=function(p){return v(s(p,void 0,f),p+"")}},function(c,x,a){var f=a(193);c.exports=function(s){return s!=null&&s.length?f(s,1):[]}},function(c,x,a){var f=a(41),s=a(194);c.exports=function v(p,m,_,M,A){var j=-1,P=p.length;for(_||(_=s),A||(A=[]);++j<P;){var U=p[j];m>0&&_(U)?m>1?v(U,m-1,_,M,A):f(A,U):M||(A[A.length]=U)}return A}},function(c,x,a){var f=a(19),s=a(34),v=a(12),p=f?f.isConcatSpreadable:void 0;c.exports=function(m){return v(m)||s(m)||!!(p&&m&&m[p])}},function(c,x){c.exports=function(a){try{return Function.toString.call(a).indexOf("[native code]")!==-1}catch{return typeof a=="function"}},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x,a){var f=a(197),s=a(38);c.exports=function(v,p,m){if(f())return Reflect.construct.apply(null,arguments);var _=[null];_.push.apply(_,p);var M=new(v.bind.apply(v,_));return m&&s(M,m.prototype),M},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x){function a(){try{var f=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c.exports=a=function(){return!!f},c.exports.__esModule=!0,c.exports.default=c.exports)()}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports},function(c,x,a){a.r(x),a.d(x,"BarcodeDecoder",function(){return jt}),a.d(x,"Readers",function(){return p}),a.d(x,"CameraAccess",function(){return pt}),a.d(x,"ImageDebug",function(){return Ct}),a.d(x,"ImageWrapper",function(){return we}),a.d(x,"ResultCollector",function(){return zn});var f={};a.r(f),a.d(f,"create",function(){return pe}),a.d(f,"clone",function(){return he}),a.d(f,"copy",function(){return _e}),a.d(f,"identity",function(){return q}),a.d(f,"fromValues",function(){return ee}),a.d(f,"set",function(){return W}),a.d(f,"transpose",function(){return B}),a.d(f,"invert",function(){return Z}),a.d(f,"adjoint",function(){return me}),a.d(f,"determinant",function(){return ge}),a.d(f,"multiply",function(){return re}),a.d(f,"rotate",function(){return K}),a.d(f,"scale",function(){return be}),a.d(f,"fromRotation",function(){return oe}),a.d(f,"fromScaling",function(){return ce}),a.d(f,"str",function(){return ye}),a.d(f,"frob",function(){return te}),a.d(f,"LDU",function(){return ze}),a.d(f,"add",function(){return ke}),a.d(f,"subtract",function(){return Je}),a.d(f,"exactEquals",function(){return Ce}),a.d(f,"equals",function(){return Ue}),a.d(f,"multiplyScalar",function(){return tr}),a.d(f,"multiplyScalarAndAdd",function(){return nr}),a.d(f,"mul",function(){return rr}),a.d(f,"sub",function(){return or});var s={};a.r(s),a.d(s,"create",function(){return Tt}),a.d(s,"clone",function(){return ar}),a.d(s,"fromValues",function(){return ir}),a.d(s,"copy",function(){return ur}),a.d(s,"set",function(){return cr}),a.d(s,"add",function(){return sr}),a.d(s,"subtract",function(){return It}),a.d(s,"multiply",function(){return zt}),a.d(s,"divide",function(){return Ut}),a.d(s,"ceil",function(){return fr}),a.d(s,"floor",function(){return lr}),a.d(s,"min",function(){return dr}),a.d(s,"max",function(){return hr}),a.d(s,"round",function(){return vr}),a.d(s,"scale",function(){return pr}),a.d(s,"scaleAndAdd",function(){return gr}),a.d(s,"distance",function(){return Nt}),a.d(s,"squaredDistance",function(){return Ft}),a.d(s,"length",function(){return Wt}),a.d(s,"squaredLength",function(){return Bt}),a.d(s,"negate",function(){return yr}),a.d(s,"inverse",function(){return mr}),a.d(s,"normalize",function(){return xr}),a.d(s,"dot",function(){return _r}),a.d(s,"cross",function(){return br}),a.d(s,"lerp",function(){return wr}),a.d(s,"random",function(){return Or}),a.d(s,"transformMat2",function(){return Mr}),a.d(s,"transformMat2d",function(){return Cr}),a.d(s,"transformMat3",function(){return Rr}),a.d(s,"transformMat4",function(){return Sr}),a.d(s,"rotate",function(){return Ar}),a.d(s,"angle",function(){return Er}),a.d(s,"signedAngle",function(){return kr}),a.d(s,"zero",function(){return jr}),a.d(s,"str",function(){return Pr}),a.d(s,"exactEquals",function(){return Dr}),a.d(s,"equals",function(){return Tr}),a.d(s,"len",function(){return Ir}),a.d(s,"sub",function(){return zr}),a.d(s,"mul",function(){return Ur}),a.d(s,"div",function(){return Nr}),a.d(s,"dist",function(){return Fr}),a.d(s,"sqrDist",function(){return Wr}),a.d(s,"sqrLen",function(){return Br}),a.d(s,"forEach",function(){return Lr});var v={};a.r(v),a.d(v,"create",function(){return Lt}),a.d(v,"clone",function(){return qr}),a.d(v,"length",function(){return qt}),a.d(v,"fromValues",function(){return Vr}),a.d(v,"copy",function(){return Gr}),a.d(v,"set",function(){return Hr}),a.d(v,"add",function(){return Xr}),a.d(v,"subtract",function(){return Vt}),a.d(v,"multiply",function(){return Gt}),a.d(v,"divide",function(){return Ht}),a.d(v,"ceil",function(){return $r}),a.d(v,"floor",function(){return Qr}),a.d(v,"min",function(){return Yr}),a.d(v,"max",function(){return Zr}),a.d(v,"round",function(){return Kr}),a.d(v,"scale",function(){return Jr}),a.d(v,"scaleAndAdd",function(){return eo}),a.d(v,"distance",function(){return Xt}),a.d(v,"squaredDistance",function(){return $t}),a.d(v,"squaredLength",function(){return Qt}),a.d(v,"negate",function(){return to}),a.d(v,"inverse",function(){return no}),a.d(v,"normalize",function(){return ro}),a.d(v,"dot",function(){return bt}),a.d(v,"cross",function(){return oo}),a.d(v,"lerp",function(){return ao}),a.d(v,"slerp",function(){return io}),a.d(v,"hermite",function(){return uo}),a.d(v,"bezier",function(){return co}),a.d(v,"random",function(){return so}),a.d(v,"transformMat4",function(){return fo}),a.d(v,"transformMat3",function(){return lo}),a.d(v,"transformQuat",function(){return ho}),a.d(v,"rotateX",function(){return vo}),a.d(v,"rotateY",function(){return po}),a.d(v,"rotateZ",function(){return go}),a.d(v,"angle",function(){return yo}),a.d(v,"zero",function(){return mo}),a.d(v,"str",function(){return xo}),a.d(v,"exactEquals",function(){return _o}),a.d(v,"equals",function(){return bo}),a.d(v,"sub",function(){return wo}),a.d(v,"mul",function(){return Oo}),a.d(v,"div",function(){return Mo}),a.d(v,"dist",function(){return Co}),a.d(v,"sqrDist",function(){return Ro}),a.d(v,"len",function(){return So}),a.d(v,"sqrLen",function(){return Ao}),a.d(v,"forEach",function(){return Eo});var p={};a.r(p),a.d(p,"BarcodeReader",function(){return Pe}),a.d(p,"TwoOfFiveReader",function(){return nn}),a.d(p,"NewCodabarReader",function(){return on}),a.d(p,"Code128Reader",function(){return an}),a.d(p,"Code32Reader",function(){return cn}),a.d(p,"Code39Reader",function(){return ft}),a.d(p,"Code39VINReader",function(){return sn}),a.d(p,"Code93Reader",function(){return ln}),a.d(p,"EAN2Reader",function(){return gn}),a.d(p,"EAN5Reader",function(){return yn}),a.d(p,"EAN8Reader",function(){return mn}),a.d(p,"EANReader",function(){return Ne}),a.d(p,"I2of5Reader",function(){return xn}),a.d(p,"PharmacodeReader",function(){return kt}),a.d(p,"UPCEReader",function(){return Cn}),a.d(p,"UPCReader",function(){return Rn});var m=a(9),_=a.n(m),M=a(15),A=a.n(M),j=(a(141),a(80)),P=a.n(j),U=a(2),I=a.n(U),G=a(3),z=a.n(G),$=a(0),S=a.n($),F=typeof Float32Array<"u"?Float32Array:Array,Q=Math.random;function ne(t){return t>=0?Math.round(t):t%.5==0?Math.floor(t):Math.round(t)}function pe(){var t=new F(4);return F!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function he(t){var r=new F(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}function _e(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}function q(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function ee(t,r,e,n){var o=new F(4);return o[0]=t,o[1]=r,o[2]=e,o[3]=n,o}function W(t,r,e,n,o){return t[0]=r,t[1]=e,t[2]=n,t[3]=o,t}function B(t,r){if(t===r){var e=r[1];t[1]=r[2],t[2]=e}else t[0]=r[0],t[1]=r[2],t[2]=r[1],t[3]=r[3];return t}function Z(t,r){var e=r[0],n=r[1],o=r[2],i=r[3],u=e*i-o*n;return u?(u=1/u,t[0]=i*u,t[1]=-n*u,t[2]=-o*u,t[3]=e*u,t):null}function me(t,r){var e=r[0];return t[0]=r[3],t[1]=-r[1],t[2]=-r[2],t[3]=e,t}function ge(t){return t[0]*t[3]-t[2]*t[1]}function re(t,r,e){var n=r[0],o=r[1],i=r[2],u=r[3],l=e[0],h=e[1],d=e[2],g=e[3];return t[0]=n*l+i*h,t[1]=o*l+u*h,t[2]=n*d+i*g,t[3]=o*d+u*g,t}function K(t,r,e){var n=r[0],o=r[1],i=r[2],u=r[3],l=Math.sin(e),h=Math.cos(e);return t[0]=n*h+i*l,t[1]=o*h+u*l,t[2]=n*-l+i*h,t[3]=o*-l+u*h,t}function be(t,r,e){var n=r[0],o=r[1],i=r[2],u=r[3],l=e[0],h=e[1];return t[0]=n*l,t[1]=o*l,t[2]=i*h,t[3]=u*h,t}function oe(t,r){var e=Math.sin(r),n=Math.cos(r);return t[0]=n,t[1]=e,t[2]=-e,t[3]=n,t}function ce(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t}function ye(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function te(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]+t[3]*t[3])}function ze(t,r,e,n){return t[2]=n[2]/n[0],e[0]=n[0],e[1]=n[1],e[3]=n[3]-t[2]*e[1],[t,r,e]}function ke(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t}function Je(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t}function Ce(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]}function Ue(t,r){var e=t[0],n=t[1],o=t[2],i=t[3],u=r[0],l=r[1],h=r[2],d=r[3];return Math.abs(e-u)<=1e-6*Math.max(1,Math.abs(e),Math.abs(u))&&Math.abs(n-l)<=1e-6*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(o-h)<=1e-6*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(i-d)<=1e-6*Math.max(1,Math.abs(i),Math.abs(d))}function tr(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t}function nr(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t[3]=r[3]+e[3]*n,t}var rr=re,or=Je;function Tt(){var t=new F(2);return F!=Float32Array&&(t[0]=0,t[1]=0),t}function ar(t){var r=new F(2);return r[0]=t[0],r[1]=t[1],r}function ir(t,r){var e=new F(2);return e[0]=t,e[1]=r,e}function ur(t,r){return t[0]=r[0],t[1]=r[1],t}function cr(t,r,e){return t[0]=r,t[1]=e,t}function sr(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t}function It(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t}function zt(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t}function Ut(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t}function fr(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t}function lr(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t}function dr(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t}function hr(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t}function vr(t,r){return t[0]=ne(r[0]),t[1]=ne(r[1]),t}function pr(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t}function gr(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t}function Nt(t,r){var e=r[0]-t[0],n=r[1]-t[1];return Math.sqrt(e*e+n*n)}function Ft(t,r){var e=r[0]-t[0],n=r[1]-t[1];return e*e+n*n}function Wt(t){var r=t[0],e=t[1];return Math.sqrt(r*r+e*e)}function Bt(t){var r=t[0],e=t[1];return r*r+e*e}function yr(t,r){return t[0]=-r[0],t[1]=-r[1],t}function mr(t,r){return t[0]=1/r[0],t[1]=1/r[1],t}function xr(t,r){var e=r[0],n=r[1],o=e*e+n*n;return o>0&&(o=1/Math.sqrt(o)),t[0]=r[0]*o,t[1]=r[1]*o,t}function _r(t,r){return t[0]*r[0]+t[1]*r[1]}function br(t,r,e){var n=r[0]*e[1]-r[1]*e[0];return t[0]=t[1]=0,t[2]=n,t}function wr(t,r,e,n){var o=r[0],i=r[1];return t[0]=o+n*(e[0]-o),t[1]=i+n*(e[1]-i),t}function Or(t,r){r=r===void 0?1:r;var e=2*Q()*Math.PI;return t[0]=Math.cos(e)*r,t[1]=Math.sin(e)*r,t}function Mr(t,r,e){var n=r[0],o=r[1];return t[0]=e[0]*n+e[2]*o,t[1]=e[1]*n+e[3]*o,t}function Cr(t,r,e){var n=r[0],o=r[1];return t[0]=e[0]*n+e[2]*o+e[4],t[1]=e[1]*n+e[3]*o+e[5],t}function Rr(t,r,e){var n=r[0],o=r[1];return t[0]=e[0]*n+e[3]*o+e[6],t[1]=e[1]*n+e[4]*o+e[7],t}function Sr(t,r,e){var n=r[0],o=r[1];return t[0]=e[0]*n+e[4]*o+e[12],t[1]=e[1]*n+e[5]*o+e[13],t}function Ar(t,r,e,n){var o=r[0]-e[0],i=r[1]-e[1],u=Math.sin(n),l=Math.cos(n);return t[0]=o*l-i*u+e[0],t[1]=o*u+i*l+e[1],t}function Er(t,r){var e=t[0],n=t[1],o=r[0],i=r[1];return Math.abs(Math.atan2(n*o-e*i,e*o+n*i))}function kr(t,r){var e=t[0],n=t[1],o=r[0],i=r[1];return Math.atan2(e*i-n*o,e*o+n*i)}function jr(t){return t[0]=0,t[1]=0,t}function Pr(t){return"vec2("+t[0]+", "+t[1]+")"}function Dr(t,r){return t[0]===r[0]&&t[1]===r[1]}function Tr(t,r){var e=t[0],n=t[1],o=r[0],i=r[1];return Math.abs(e-o)<=1e-6*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(n-i)<=1e-6*Math.max(1,Math.abs(n),Math.abs(i))}var Ve,Ir=Wt,zr=It,Ur=zt,Nr=Ut,Fr=Nt,Wr=Ft,Br=Bt,Lr=(Ve=Tt(),function(t,r,e,n,o,i){var u,l;for(r||(r=2),e||(e=0),l=n?Math.min(n*r+e,t.length):t.length,u=e;u<l;u+=r)Ve[0]=t[u],Ve[1]=t[u+1],o(Ve,Ve,i),t[u]=Ve[0],t[u+1]=Ve[1];return t});function Lt(){var t=new F(3);return F!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function qr(t){var r=new F(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}function qt(t){var r=t[0],e=t[1],n=t[2];return Math.sqrt(r*r+e*e+n*n)}function Vr(t,r,e){var n=new F(3);return n[0]=t,n[1]=r,n[2]=e,n}function Gr(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}function Hr(t,r,e,n){return t[0]=r,t[1]=e,t[2]=n,t}function Xr(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t}function Vt(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t}function Gt(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t[2]=r[2]*e[2],t}function Ht(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t[2]=r[2]/e[2],t}function $r(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t}function Qr(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t}function Yr(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t[2]=Math.min(r[2],e[2]),t}function Zr(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t[2]=Math.max(r[2],e[2]),t}function Kr(t,r){return t[0]=ne(r[0]),t[1]=ne(r[1]),t[2]=ne(r[2]),t}function Jr(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t}function eo(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t}function Xt(t,r){var e=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2];return Math.sqrt(e*e+n*n+o*o)}function $t(t,r){var e=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2];return e*e+n*n+o*o}function Qt(t){var r=t[0],e=t[1],n=t[2];return r*r+e*e+n*n}function to(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t}function no(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t}function ro(t,r){var e=r[0],n=r[1],o=r[2],i=e*e+n*n+o*o;return i>0&&(i=1/Math.sqrt(i)),t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t}function bt(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}function oo(t,r,e){var n=r[0],o=r[1],i=r[2],u=e[0],l=e[1],h=e[2];return t[0]=o*h-i*l,t[1]=i*u-n*h,t[2]=n*l-o*u,t}function ao(t,r,e,n){var o=r[0],i=r[1],u=r[2];return t[0]=o+n*(e[0]-o),t[1]=i+n*(e[1]-i),t[2]=u+n*(e[2]-u),t}function io(t,r,e,n){var o=Math.acos(Math.min(Math.max(bt(r,e),-1),1)),i=Math.sin(o),u=Math.sin((1-n)*o)/i,l=Math.sin(n*o)/i;return t[0]=u*r[0]+l*e[0],t[1]=u*r[1]+l*e[1],t[2]=u*r[2]+l*e[2],t}function uo(t,r,e,n,o,i){var u=i*i,l=u*(2*i-3)+1,h=u*(i-2)+i,d=u*(i-1),g=u*(3-2*i);return t[0]=r[0]*l+e[0]*h+n[0]*d+o[0]*g,t[1]=r[1]*l+e[1]*h+n[1]*d+o[1]*g,t[2]=r[2]*l+e[2]*h+n[2]*d+o[2]*g,t}function co(t,r,e,n,o,i){var u=1-i,l=u*u,h=i*i,d=l*u,g=3*i*l,y=3*h*u,b=h*i;return t[0]=r[0]*d+e[0]*g+n[0]*y+o[0]*b,t[1]=r[1]*d+e[1]*g+n[1]*y+o[1]*b,t[2]=r[2]*d+e[2]*g+n[2]*y+o[2]*b,t}function so(t,r){r=r===void 0?1:r;var e=2*Q()*Math.PI,n=2*Q()-1,o=Math.sqrt(1-n*n)*r;return t[0]=Math.cos(e)*o,t[1]=Math.sin(e)*o,t[2]=n*r,t}function fo(t,r,e){var n=r[0],o=r[1],i=r[2],u=e[3]*n+e[7]*o+e[11]*i+e[15];return u=u||1,t[0]=(e[0]*n+e[4]*o+e[8]*i+e[12])/u,t[1]=(e[1]*n+e[5]*o+e[9]*i+e[13])/u,t[2]=(e[2]*n+e[6]*o+e[10]*i+e[14])/u,t}function lo(t,r,e){var n=r[0],o=r[1],i=r[2];return t[0]=n*e[0]+o*e[3]+i*e[6],t[1]=n*e[1]+o*e[4]+i*e[7],t[2]=n*e[2]+o*e[5]+i*e[8],t}function ho(t,r,e){var n=e[0],o=e[1],i=e[2],u=e[3],l=r[0],h=r[1],d=r[2],g=o*d-i*h,y=i*l-n*d,b=n*h-o*l;return g+=g,y+=y,b+=b,t[0]=l+u*g+o*b-i*y,t[1]=h+u*y+i*g-n*b,t[2]=d+u*b+n*y-o*g,t}function vo(t,r,e,n){var o=[],i=[];return o[0]=r[0]-e[0],o[1]=r[1]-e[1],o[2]=r[2]-e[2],i[0]=o[0],i[1]=o[1]*Math.cos(n)-o[2]*Math.sin(n),i[2]=o[1]*Math.sin(n)+o[2]*Math.cos(n),t[0]=i[0]+e[0],t[1]=i[1]+e[1],t[2]=i[2]+e[2],t}function po(t,r,e,n){var o=[],i=[];return o[0]=r[0]-e[0],o[1]=r[1]-e[1],o[2]=r[2]-e[2],i[0]=o[2]*Math.sin(n)+o[0]*Math.cos(n),i[1]=o[1],i[2]=o[2]*Math.cos(n)-o[0]*Math.sin(n),t[0]=i[0]+e[0],t[1]=i[1]+e[1],t[2]=i[2]+e[2],t}function go(t,r,e,n){var o=[],i=[];return o[0]=r[0]-e[0],o[1]=r[1]-e[1],o[2]=r[2]-e[2],i[0]=o[0]*Math.cos(n)-o[1]*Math.sin(n),i[1]=o[0]*Math.sin(n)+o[1]*Math.cos(n),i[2]=o[2],t[0]=i[0]+e[0],t[1]=i[1]+e[1],t[2]=i[2]+e[2],t}function yo(t,r){var e=t[0],n=t[1],o=t[2],i=r[0],u=r[1],l=r[2],h=Math.sqrt((e*e+n*n+o*o)*(i*i+u*u+l*l)),d=h&&bt(t,r)/h;return Math.acos(Math.min(Math.max(d,-1),1))}function mo(t){return t[0]=0,t[1]=0,t[2]=0,t}function xo(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function _o(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]}function bo(t,r){var e=t[0],n=t[1],o=t[2],i=r[0],u=r[1],l=r[2];return Math.abs(e-i)<=1e-6*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(n-u)<=1e-6*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(o-l)<=1e-6*Math.max(1,Math.abs(o),Math.abs(l))}var wo=Vt,Oo=Gt,Mo=Ht,Co=Xt,Ro=$t,So=qt,Ao=Qt,Eo=function(){var t=Lt();return function(r,e,n,o,i,u){var l,h;for(e||(e=3),n||(n=0),h=o?Math.min(o*e+n,r.length):r.length,l=n;l<h;l+=e)t[0]=r[l],t[1]=r[l+1],t[2]=r[l+2],i(t,t,u),r[l]=t[0],r[l+1]=t[1],r[l+2]=t[2];return r}}(),Qe=function(t,r){t.fill(r)},ko=function(t){for(var r=0,e=0;e<t.length;e++)t[e]>t[r]&&(r=e);return r},wt=function(t){for(var r=t.length,e=0;r--;)e+=t[r];return e},jo=function(t,r){var e=[],n={rad:0,vec:s.clone([0,0])},o={};function i(l){o[l.id]=l,e.push(l)}function u(){var l,h=0;for(l=0;l<e.length;l++)h+=e[l].rad;n.rad=h/e.length,n.vec=s.clone([Math.cos(n.rad),Math.sin(n.rad)])}return i(t),u(),{add:function(l){o[l.id]||(i(l),u())},fits:function(l){return Math.abs(s.dot(l.point.vec,n.vec))>r},getPoints:function(){return e},getCenter:function(){return n}}},Po=function(t,r,e){return{rad:t[e],point:t,id:r}};function Ot(t,r){return{x:t,y:r,toVec2:function(){return s.clone([this.x,this.y])},toVec3:function(){return v.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function Do(t,r){r||(r=8);for(var e=t.data,n=e.length,o=8-r,i=new Int32Array(1<<r);n--;)i[e[n]>>o]++;return i}function To(t,r){var e=function(n){var o,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8,u=8-i;function l(y,b){for(var O=0,R=y;R<=b;R++)O+=o[R];return O}function h(y,b){for(var O=0,R=y;R<=b;R++)O+=R*o[R];return O}function d(){var y,b,O,R,w=[0],C=(1<<i)-1;o=Do(n,i);for(var E=1;E<C;E++)(O=(y=l(0,E))*(b=l(E+1,C)))===0&&(O=1),R=h(0,E)*b-h(E+1,C)*y,w[E]=R*R/O;return ko(w)}var g=d();return g<<u}(t);return function(n,o,i){i||(i=n);for(var u=n.data,l=u.length,h=i.data;l--;)h[l]=u[l]<o?1:0}(t,e,r),e}function Io(t,r,e){var n=t.length/4|0;if(e&&e.singleChannel===!0)for(var o=0;o<n;o++){var i=t[4*o+3];r[o]=i===0?255:t[4*o+0]}else for(var u=0;u<n;u++){var l=t[4*u+3];r[u]=l===0?255:.299*t[4*u+0]+.587*t[4*u+1]+.114*t[4*u+2]}}function zo(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0],e=t[0],n=t[1],o=t[2],i=o*n,u=i*(1-Math.abs(e/60%2-1)),l=o-i,h=0,d=0,g=0;return e<60?(h=i,d=u):e<120?(h=u,d=i):e<180?(d=i,g=u):e<240?(d=u,g=i):e<300?(h=u,g=i):e<360&&(h=i,g=u),r[0]=255*(h+l)|0,r[1]=255*(d+l)|0,r[2]=255*(g+l)|0,r}function ut(t){if(!Number.isFinite(t)||t<1)return[];for(var r=[],e=[],n=Math.sqrt(t),o=1;o<=n;o++)t%o==0&&(e.push(o),o!==t/o&&r.unshift(Math.floor(t/o)));return e.concat(r)}function Yt(t,r){var e,n=ut(r.x),o=ut(r.y),i=Math.max(r.x,r.y),u=function(O,R){for(var w=0,C=0,E=[];w<O.length&&C<R.length;)O[w]===R[C]?(E.push(O[w]),w++,C++):O[w]>R[C]?C++:w++;return E}(n,o),l=[8,10,15,20,32,60,80],h={"x-small":5,small:4,medium:3,large:2,"x-large":1},d=h[t]||h.medium,g=l[d],y=Math.floor(i/g);function b(O){for(var R=0,w=O[Math.floor(O.length/2)];R<O.length-1&&O[R]<y;)R++;return R>0&&(w=Math.abs(O[R]-y)>Math.abs(O[R-1]-y)?O[R-1]:O[R]),y/w<l[d+1]/l[d]&&y/w>l[d-1]/l[d]?{x:w,y:w}:null}return(e=b(u))||(e=b(ut(i)))||(e=b(ut(y*g))),e||(e={x:Math.max(1,r.x),y:Math.max(1,r.y)}),e}var Zt={top:function(t,r){return t.unit==="%"?Math.floor(r.height*(t.value/100)):null},right:function(t,r){return t.unit==="%"?Math.floor(r.width-r.width*(t.value/100)):null},bottom:function(t,r){return t.unit==="%"?Math.floor(r.height-r.height*(t.value/100)):null},left:function(t,r){return t.unit==="%"?Math.floor(r.width*(t.value/100)):null}};function Uo(t,r,e){var n={width:t,height:r},o=Object.keys(e).reduce(function(i,u){if(!Zt[u])return i;var l=function(d){return{value:parseFloat(d),unit:(d.indexOf("%"),d.length,"%")}}(e[u]),h=Zt[u](l,n);return i[u]=h,i},{});return{sx:o.left,sy:o.top,sw:o.right-o.left,sh:o.bottom-o.top}}function Mt(t){if(t<0)throw new Error("expected positive number, received ".concat(t))}var we=function(){return z()(function t(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Uint8Array,o=arguments.length>3?arguments[3]:void 0;I()(this,t),S()(this,"data",void 0),S()(this,"size",void 0),S()(this,"indexMapping",void 0),e?this.data=e:(this.data=new n(r.x*r.y),o&&Qe(this.data,0)),this.size=r},[{key:"inImageWithBorder",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Mt(r),t.x>=0&&t.y>=0&&t.x<this.size.x+2*r&&t.y<this.size.y+2*r}},{key:"subImageAsCopy",value:function(t,r){Mt(r.x),Mt(r.y);for(var e=t.size,n=e.x,o=e.y,i=0;i<n;i++)for(var u=0;u<o;u++)t.data[u*n+i]=this.data[(r.y+u)*this.size.x+r.x+i];return t}},{key:"get",value:function(t,r){return this.data[r*this.size.x+t]}},{key:"getSafe",value:function(t,r){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var e=0;e<this.size.x;e++)this.indexMapping.x[e]=e,this.indexMapping.x[e+this.size.x]=e;for(var n=0;n<this.size.y;n++)this.indexMapping.y[n]=n,this.indexMapping.y[n+this.size.y]=n}return this.data[this.indexMapping.y[r+this.size.y]*this.size.x+this.indexMapping.x[t+this.size.x]]}},{key:"set",value:function(t,r,e){return this.data[r*this.size.x+t]=e,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var t=this.size,r=t.x,e=t.y,n=0;n<r;n++)this.data[n]=this.data[(e-1)*r+n]=0;for(var o=1;o<e-1;o++)this.data[o*r]=this.data[o*r+(r-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(t){var r,e,n,o,i,u,l,h,d,g,y=this.data,b=this.size.y,O=this.size.x,R=[],w=[],C=Math.PI,E=C/4;if(t<=0)return w;for(i=0;i<t;i++)R[i]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(e=0;e<b;e++)for(o=e*e,r=0;r<O;r++)(n=y[e*O+r])>0&&((u=R[n-1]).m00+=1,u.m01+=e,u.m10+=r,u.m11+=r*e,u.m02+=o,u.m20+=r*r);for(i=0;i<t;i++)u=R[i],isNaN(u.m00)||u.m00===0||(h=u.m10/u.m00,d=u.m01/u.m00,l=u.m11/u.m00-h*d,g=(u.m02/u.m00-d*d-(u.m20/u.m00-h*h))/(2*l),g=.5*Math.atan(g)+(l>=0?E:-E)+C,u.theta=(180*g/C+90)%180-90,u.theta<0&&(u.theta+=180),u.rad=g>C?g-C:g,u.vec=s.clone([Math.cos(g),Math.sin(g)]),w.push(u));return w}},{key:"getAsRGBA",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,r=new Uint8ClampedArray(4*this.size.x*this.size.y),e=0;e<this.size.y;e++)for(var n=0;n<this.size.x;n++){var o=e*this.size.x+n,i=this.get(n,e)*t;r[4*o+0]=i,r[4*o+1]=i,r[4*o+2]=i,r[4*o+3]=255}return r}},{key:"show",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;console.warn("* imagewrapper show getcontext 2d");var e=t.getContext("2d");if(!e)throw new Error("Unable to get canvas context");var n=e.getImageData(0,0,t.width,t.height),o=this.getAsRGBA(r);t.width=this.size.x,t.height=this.size.y;var i=new ImageData(o,n.width,n.height);e.putImageData(i,0,0)}},{key:"overlay",value:function(t,r,e){var n=r<0||r>360?360:r,o=[0,1,1],i=[0,0,0],u=[255,255,255],l=[0,0,0];console.warn("* imagewrapper overlay getcontext 2d");var h=t.getContext("2d");if(!h)throw new Error("Unable to get canvas context");for(var d=h.getImageData(e.x,e.y,this.size.x,this.size.y),g=d.data,y=this.data.length;y--;){o[0]=this.data[y]*n;var b=4*y,O=o[0]<=0?u:o[0]>=360?l:zo(o,i),R=P()(O,3);g[b]=R[0],g[b+1]=R[1],g[b+2]=R[2],g[b+3]=255}h.putImageData(d,e.x,e.y)}}])}(),No=a(7),je=a.n(No),Fo=a(6),ie=a.n(Fo),Ct={drawRect:function(t,r,e,n){e.strokeStyle=n.color,e.fillStyle=n.color,e.lineWidth=n.lineWidth||1,e.beginPath(),e.strokeRect(t.x,t.y,r.x,r.y)},drawPath:function(t,r,e,n){e.strokeStyle=n.color,e.fillStyle=n.color,e.lineWidth=n.lineWidth,e.beginPath(),e.moveTo(t[0][r.x],t[0][r.y]);for(var o=1;o<t.length;o++)e.lineTo(t[o][r.x],t[o][r.y]);e.closePath(),e.stroke()},drawImage:function(t,r,e){var n=e.getImageData(0,0,r.x,r.y),o=n.data,i=o.length,u=t.length;if(i/u!=4)return!1;for(;u--;){var l=t[u];o[--i]=255,o[--i]=l,o[--i]=l,o[--i]=l}return e.putImageData(n,0,0),!0}},Wo=a(4),se=a.n(Wo),Bo=a(1),H=a.n(Bo),Lo=a(5),le=a.n(Lo),Kt=function(t){return t[t.Forward=1]="Forward",t[t.Reverse=-1]="Reverse",t}({}),Jt=function(){return z()(function t(r,e){I()(this,t),S()(this,"_row",[]),S()(this,"config",{}),S()(this,"supplements",[]),S()(this,"SINGLE_CODE_ERROR",0),S()(this,"FORMAT","unknown"),S()(this,"CONFIG_KEYS",{}),this._row=[],this.config=r||{},e&&(this.supplements=e)},[{key:"_nextUnset",value:function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=r;e<t.length;e++)if(!t[e])return e;return t.length}},{key:"_matchPattern",value:function(t,r){for(var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.SINGLE_CODE_ERROR||1,n=0,o=0,i=0,u=0,l=0,h=0,d=0,g=0;g<t.length;g++)i+=t[g],u+=r[g];if(i<u)return Number.MAX_VALUE;e*=l=i/u;for(var y=0;y<t.length;y++){if(h=t[y],d=r[y]*l,(o=Math.abs(h-d)/d)>e)return Number.MAX_VALUE;n+=o}return n/u}},{key:"_nextSet",value:function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=r;e<t.length;e++)if(t[e])return e;return t.length}},{key:"_correctBars",value:function(t,r,e){for(var n=e.length,o=0;n--;)(o=t[e[n]]*(1-(1-r)/2))>1&&(t[e[n]]=o)}},{key:"decodePattern",value:function(t){this._row=t;var r=this.decode();return r===null?(this._row.reverse(),(r=this.decode())&&(r.direction=Kt.Reverse,r.start=this._row.length-r.start,r.end=this._row.length-r.end)):r.direction=Kt.Forward,r&&(r.format=this.FORMAT),r}},{key:"_matchRange",value:function(t,r,e){var n;for(n=t=t<0?0:t;n<r;n++)if(this._row[n]!==e)return!1;return!0}},{key:"_fillCounters",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._nextUnset(this._row),r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._row.length,e=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],n=[],o=0;n[o]=0;for(var i=t;i<r;i++)this._row[i]^(e?1:0)?n[o]++:(n[++o]=1,e=!e);return n}},{key:"_toCounters",value:function(t,r){var e=r.length,n=this._row.length,o=!this._row[t],i=0;Qe(r,0);for(var u=t;u<n;u++)if(this._row[u]^(o?1:0))r[i]++;else{if(++i===e)break;r[i]=1,o=!o}return r}},{key:"decodeImage",value:function(t){return null}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}])}();S()(Jt,"adjacentLineValidationMatches",0);var Pe=Jt;function qo(t,r,e){return r=H()(r),se()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],H()(t).constructor):r.apply(t,e))}var en=[3,1,3,1,1,1],Vo=[3,1,1,1,3],tn=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],Go=en.reduce(function(t,r){return t+r},0),nn=function(t){function r(){var e;I()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=qo(this,r,[].concat(o)),S()(e,"barSpaceRatio",[1,1]),S()(e,"FORMAT","2of5"),S()(e,"SINGLE_CODE_ERROR",.78),S()(e,"AVG_CODE_ERROR",.3),e}return le()(r,t),z()(r,[{key:"_findPattern",value:function(e,n){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=arguments.length>3&&arguments[3]!==void 0&&arguments[3],u=[],l=0,h={error:Number.MAX_VALUE,code:-1,start:0,end:0},d=0,g=0,y=this.AVG_CODE_ERROR;n||(n=this._nextSet(this._row));for(var b=0;b<e.length;b++)u[b]=0;for(var O=n;O<this._row.length;O++)if(this._row[O]^(o?1:0))u[l]++;else{if(l===u.length-1){d=0;for(var R=0;R<u.length;R++)d+=u[R];if((g=this._matchPattern(u,e))<y)return h.error=g,h.start=O-d,h.end=O,h;if(!i)return null;for(var w=0;w<u.length-2;w++)u[w]=u[w+2];u[u.length-2]=0,u[u.length-1]=0,l--}else l++;u[l]=1,o=!o}return null}},{key:"_findStart",value:function(){for(var e=null,n=this._nextSet(this._row),o=1,i=0;!e;){if(!(e=this._findPattern(en,n,!1,!0)))return null;if(o=Math.floor((e.end-e.start)/Go),(i=e.start-5*o)>=0&&this._matchRange(i,e.start,0))return e;n=e.end,e=null}return e}},{key:"_verifyTrailingWhitespace",value:function(e){var n=e.end+(e.end-e.start)/2;return n<this._row.length&&this._matchRange(e.end,n,0)?e:null}},{key:"_findEnd",value:function(){this._row.reverse();var e=this._nextSet(this._row),n=this._findPattern(Vo,e,!1,!0);if(this._row.reverse(),n===null)return null;var o=n.start;return n.start=this._row.length-n.end,n.end=this._row.length-o,n!==null?this._verifyTrailingWhitespace(n):null}},{key:"_verifyCounterLength",value:function(e){return e.length%10==0}},{key:"_decodeCode",value:function(e){for(var n=this.AVG_CODE_ERROR,o={error:Number.MAX_VALUE,code:-1,start:0,end:0},i=0;i<tn.length;i++){var u=this._matchPattern(e,tn[i]);u<o.error&&(o.code=i,o.error=u)}return o.error<n?o:null}},{key:"_decodePayload",value:function(e,n,o){for(var i=0,u=e.length,l=[0,0,0,0,0],h=null;i<u;){for(var d=0;d<5;d++)l[d]=e[i]*this.barSpaceRatio[0],i+=2;if(!(h=this._decodeCode(l)))return null;n.push("".concat(h.code)),o.push(h)}return h}},{key:"decode",value:function(e,n){var o=this._findStart();if(!o)return null;var i=this._findEnd();if(!i)return null;var u=this._fillCounters(o.end,i.start,!1);if(!this._verifyCounterLength(u))return null;var l=[];l.push(o);var h=[];return this._decodePayload(u,h,l)?h.length<5?null:(l.push(i),{code:h.join(""),start:o.start,end:i.end,startInfo:o,decodedCodes:l,format:this.FORMAT}):null}}])}(Pe);function Ho(t,r,e){return r=H()(r),se()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],H()(t).constructor):r.apply(t,e))}var Rt=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],St=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],rn=[26,41,11,14],on=function(t){function r(){var e;I()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=Ho(this,r,[].concat(o)),S()(e,"_counters",[]),S()(e,"FORMAT","codabar"),e}return le()(r,t),z()(r,[{key:"_computeAlternatingThreshold",value:function(e,n){for(var o=Number.MAX_VALUE,i=0,u=0,l=e;l<n;l+=2)(u=this._counters[l])>i&&(i=u),u<o&&(o=u);return(o+i)/2|0}},{key:"_toPattern",value:function(e){var n=e+7;if(n>this._counters.length)return-1;for(var o=this._computeAlternatingThreshold(e,n),i=this._computeAlternatingThreshold(e+1,n),u=64,l=0,h=0,d=0;d<7;d++)l=1&d?i:o,this._counters[e+d]>l&&(h|=u),u>>=1;return h}},{key:"_isStartEnd",value:function(e){for(var n=0;n<rn.length;n++)if(rn[n]===e)return!0;return!1}},{key:"_sumCounters",value:function(e,n){for(var o=0,i=e;i<n;i++)o+=this._counters[i];return o}},{key:"_findStart",value:function(){for(var e=this._nextUnset(this._row),n=1;n<this._counters.length;n++){var o=this._toPattern(n);if(o!==-1&&this._isStartEnd(o))return{start:e+=this._sumCounters(0,n),end:e+this._sumCounters(n,n+8),startCounter:n,endCounter:n+8}}return null}},{key:"_patternToChar",value:function(e){for(var n=0;n<St.length;n++)if(St[n]===e)return String.fromCharCode(Rt[n]);return null}},{key:"_calculatePatternLength",value:function(e){for(var n=0,o=e;o<e+7;o++)n+=this._counters[o];return n}},{key:"_verifyWhitespace",value:function(e,n){return(e-1<=0||this._counters[e-1]>=this._calculatePatternLength(e)/2)&&(n+8>=this._counters.length||this._counters[n+7]>=this._calculatePatternLength(n)/2)}},{key:"_charToPattern",value:function(e){for(var n=e.charCodeAt(0),o=0;o<Rt.length;o++)if(Rt[o]===n)return St[o];return 0}},{key:"_thresholdResultPattern",value:function(e,n){for(var o,i={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},u=n,l=0;l<e.length;l++){o=this._charToPattern(e[l]);for(var h=6;h>=0;h--){var d=(1&h)==2?i.bar:i.space,g=(1&o)==1?d.wide:d.narrow;g.size+=this._counters[u+h],g.counts++,o>>=1}u+=8}return["space","bar"].forEach(function(y){var b=i[y];b.wide.min=Math.floor((b.narrow.size/b.narrow.counts+b.wide.size/b.wide.counts)/2),b.narrow.max=Math.ceil(b.wide.min),b.wide.max=Math.ceil((2*b.wide.size+1.5)/b.wide.counts)}),i}},{key:"_validateResult",value:function(e,n){for(var o,i=this._thresholdResultPattern(e,n),u=n,l=0;l<e.length;l++){o=this._charToPattern(e[l]);for(var h=6;h>=0;h--){var d=1&h?i.space:i.bar,g=(1&o)==1?d.wide:d.narrow,y=this._counters[u+h];if(y<g.min||y>g.max)return!1;o>>=1}u+=8}return!0}},{key:"decode",value:function(e,n){if(this._counters=this._fillCounters(),!(n=this._findStart()))return null;var o,i=n.startCounter,u=[];do{if((o=this._toPattern(i))<0)return null;var l=this._patternToChar(o);if(l===null)return null;if(u.push(l),i+=8,u.length>1&&this._isStartEnd(o))break}while(i<this._counters.length);if(u.length-2<4||!this._isStartEnd(o)||!this._verifyWhitespace(n.startCounter,i-8)||!this._validateResult(u,n.startCounter))return null;i=i>this._counters.length?this._counters.length:i;var h=n.start+this._sumCounters(n.startCounter,i-8);return{code:u.join(""),start:n.start,end:h,startInfo:n,decodedCodes:u,format:this.FORMAT}}}])}(Pe);function Xo(t,r,e){return r=H()(r),se()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],H()(t).constructor):r.apply(t,e))}var an=function(t){function r(){var e;I()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=Xo(this,r,[].concat(o)),S()(e,"CODE_SHIFT",98),S()(e,"CODE_C",99),S()(e,"CODE_B",100),S()(e,"CODE_A",101),S()(e,"FNC1",102),S()(e,"START_CODE_A",103),S()(e,"START_CODE_B",104),S()(e,"START_CODE_C",105),S()(e,"STOP_CODE",106),S()(e,"FNC1_CHAR",""),S()(e,"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),S()(e,"SINGLE_CODE_ERROR",.64),S()(e,"AVG_CODE_ERROR",.3),S()(e,"FORMAT","code_128"),S()(e,"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),e}return le()(r,t),z()(r,[{key:"_decodeCode",value:function(e,n){for(var o={error:Number.MAX_VALUE,code:-1,start:e,end:e,correction:{bar:1,space:1}},i=[0,0,0,0,0,0],u=e,l=!this._row[u],h=0,d=u;d<this._row.length;d++)if(this._row[d]^(l?1:0))i[h]++;else{if(h===i.length-1){n&&this._correct(i,n);for(var g=0;g<this.CODE_PATTERN.length;g++){var y=this._matchPattern(i,this.CODE_PATTERN[g]);y<o.error&&(o.code=g,o.error=y)}return o.end=d,o.code===-1||o.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[o.code]&&(o.correction.bar=this.calculateCorrection(this.CODE_PATTERN[o.code],i,this.MODULE_INDICES.bar),o.correction.space=this.calculateCorrection(this.CODE_PATTERN[o.code],i,this.MODULE_INDICES.space)),o)}i[++h]=1,l=!l}return null}},{key:"_correct",value:function(e,n){this._correctBars(e,n.bar,this.MODULE_INDICES.bar),this._correctBars(e,n.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var e=[0,0,0,0,0,0],n=this._nextSet(this._row),o={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},i=!1,u=0,l=n;l<this._row.length;l++)if(this._row[l]^(i?1:0))e[u]++;else{if(u===e.length-1){for(var h=e.reduce(function(b,O){return b+O},0),d=this.START_CODE_A;d<=this.START_CODE_C;d++){var g=this._matchPattern(e,this.CODE_PATTERN[d]);g<o.error&&(o.code=d,o.error=g)}if(o.error<this.AVG_CODE_ERROR)return o.start=l-h,o.end=l,o.correction.bar=this.calculateCorrection(this.CODE_PATTERN[o.code],e,this.MODULE_INDICES.bar),o.correction.space=this.calculateCorrection(this.CODE_PATTERN[o.code],e,this.MODULE_INDICES.space),o;for(var y=0;y<4;y++)e[y]=e[y+2];e[4]=0,e[5]=0,u--}else u++;e[u]=1,i=!i}return null}},{key:"decode",value:function(e,n){var o=this,i=this._findStart();if(i===null)return null;var u={code:i.code,start:i.start,end:i.end,correction:{bar:i.correction.bar,space:i.correction.space}},l=[];l.push(u);for(var h=u.code,d=function(E){switch(E){case o.START_CODE_A:return o.CODE_A;case o.START_CODE_B:return o.CODE_B;case o.START_CODE_C:return o.CODE_C;default:return null}}(u.code),g=!1,y=!1,b=y,O=!0,R=0,w=[],C=[];!g;){if(b=y,y=!1,(u=this._decodeCode(u.end,u.correction))!==null)switch(u.code!==this.STOP_CODE&&(O=!0),u.code!==this.STOP_CODE&&(w.push(u.code),h+=++R*u.code),l.push(u),d){case this.CODE_A:if(u.code<64)C.push(String.fromCharCode(32+u.code));else if(u.code<96)C.push(String.fromCharCode(u.code-64));else switch(u.code!==this.STOP_CODE&&(O=!1),u.code){case this.CODE_SHIFT:y=!0,d=this.CODE_B;break;case this.CODE_B:d=this.CODE_B;break;case this.CODE_C:d=this.CODE_C;break;case this.FNC1:C.push(this.FNC1_CHAR);break;case this.STOP_CODE:g=!0}break;case this.CODE_B:if(u.code<96)C.push(String.fromCharCode(32+u.code));else switch(u.code!==this.STOP_CODE&&(O=!1),u.code){case this.CODE_SHIFT:y=!0,d=this.CODE_A;break;case this.CODE_A:d=this.CODE_A;break;case this.CODE_C:d=this.CODE_C;break;case this.FNC1:C.push(this.FNC1_CHAR);break;case this.STOP_CODE:g=!0}break;case this.CODE_C:if(u.code<100)C.push(u.code<10?"0"+u.code:u.code);else switch(u.code!==this.STOP_CODE&&(O=!1),u.code){case this.CODE_A:d=this.CODE_A;break;case this.CODE_B:d=this.CODE_B;break;case this.FNC1:C.push(this.FNC1_CHAR);break;case this.STOP_CODE:g=!0}}else g=!0;b&&(d=d===this.CODE_A?this.CODE_B:this.CODE_A)}return u===null?null:(u.end=this._nextUnset(this._row,u.end),this._verifyTrailingWhitespace(u)?(h-=R*w[w.length-1])%103!==w[w.length-1]?null:C.length?(O&&C.splice(C.length-1,1),{code:C.join(""),start:i.start,end:u.end,codeset:d,startInfo:i,decodedCodes:l,endInfo:u,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(e){var n;return(n=e.end+(e.end-e.start)/2)<this._row.length&&this._matchRange(e.end,n,0)?e:null}},{key:"calculateCorrection",value:function(e,n,o){for(var i=o.length,u=0,l=0;i--;)l+=e[o[i]],u+=n[o[i]];return l/u}}])}(Pe),$o=a(13),ct=a.n($o),Qo=a(16),st=a.n(Qo);function Yo(t,r,e){return r=H()(r),se()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],H()(t).constructor):r.apply(t,e))}var Zo=new Uint16Array(st()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(t){return t.charCodeAt(0)})),un=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),ft=function(t){function r(){var e;I()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=Yo(this,r,[].concat(o)),S()(e,"FORMAT","code_39"),e}return le()(r,t),z()(r,[{key:"_findStart",value:function(){for(var e=this._nextSet(this._row),n=e,o=new Uint16Array([0,0,0,0,0,0,0,0,0]),i=0,u=!1,l=e;l<this._row.length;l++)if(this._row[l]^(u?1:0))o[i]++;else{if(i===o.length-1){if(this._toPattern(o)===148){var h=Math.floor(Math.max(0,n-(l-n)/4));if(this._matchRange(h,n,0))return{start:n,end:l}}n+=o[0]+o[1];for(var d=0;d<7;d++)o[d]=o[d+2];o[7]=0,o[8]=0,i--}else i++;o[i]=1,u=!u}return null}},{key:"_toPattern",value:function(e){for(var n=e.length,o=0,i=n,u=0;i>3;){o=this._findNextWidth(e,o),i=0;for(var l=0,h=0;h<n;h++)e[h]>o&&(l|=1<<n-1-h,i++,u+=e[h]);if(i===3){for(var d=0;d<n&&i>0;d++)if(e[d]>o&&(i--,2*e[d]>=u))return-1;return l}}return-1}},{key:"_findNextWidth",value:function(e,n){for(var o=Number.MAX_VALUE,i=0;i<e.length;i++)e[i]<o&&e[i]>n&&(o=e[i]);return o}},{key:"_patternToChar",value:function(e){for(var n=0;n<un.length;n++)if(un[n]===e)return String.fromCharCode(Zo[n]);return null}},{key:"_verifyTrailingWhitespace",value:function(e,n,o){var i=wt(o);return 3*(n-e-i)>=i}},{key:"decode",value:function(){var e=new Uint16Array([0,0,0,0,0,0,0,0,0]),n=[],o=this._findStart();if(!o)return null;var i,u,l=this._nextSet(this._row,o.end);do{e=this._toCounters(l,e);var h=this._toPattern(e);if(h<0||(i=this._patternToChar(h))===null)return null;n.push(i),u=l,l+=wt(e),l=this._nextSet(this._row,l)}while(i!=="*");return n.pop(),n.length&&this._verifyTrailingWhitespace(u,l,e)?{code:n.join(""),start:o.start,end:l,startInfo:o,decodedCodes:n,format:this.FORMAT}:null}}])}(Pe);function Ko(t,r,e){return r=H()(r),se()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],H()(t).constructor):r.apply(t,e))}var Jo=/[AEIO]/g,cn=function(t){function r(){var e;I()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=Ko(this,r,[].concat(o)),S()(e,"FORMAT","code_32_reader"),e}return le()(r,t),z()(r,[{key:"_decodeCode32",value:function(e){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(e))return null;for(var n=0,o=0;o<e.length;o++)n=32*n+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(e[o]);var i="".concat(n);return i.length<9&&(i=("000000000"+i).slice(-9)),"A"+i}},{key:"_checkChecksum",value:function(e){return!!e}},{key:"decode",value:function(){var e,n,o,i,u,l=(e=r,n="decode",o=this,i=3,u=ct()(H()(1&i?e.prototype:e),n,o),2&i&&typeof u=="function"?function(g){return u.apply(o,g)}:u)([]);if(!l)return null;var h=l.code;if(!h||(h=h.replace(Jo,""),!this._checkChecksum(h)))return null;var d=this._decodeCode32(h);return d?(l.code=d,l):null}}])}(ft);function ea(t,r,e){return r=H()(r),se()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],H()(t).constructor):r.apply(t,e))}var ta=/[IOQ]/g,na=/[A-Z0-9]{17}/,sn=function(t){function r(){var e;I()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=ea(this,r,[].concat(o)),S()(e,"FORMAT","code_39_vin"),e}return le()(r,t),z()(r,[{key:"_checkChecksum",value:function(e){return!!e}},{key:"decode",value:function(){var e,n,o,i,u,l=(e=r,n="decode",o=this,i=3,u=ct()(H()(1&i?e.prototype:e),n,o),2&i&&typeof u=="function"?function(d){return u.apply(o,d)}:u)([]);if(!l)return null;var h=l.code;return h&&(h=h.replace(ta,"")).match(na)&&this._checkChecksum(h)?(l.code=h,l):null}}])}(ft);function ra(t,r,e){return r=H()(r),se()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],H()(t).constructor):r.apply(t,e))}var At=new Uint16Array(st()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(t){return t.charCodeAt(0)})),fn=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),ln=function(t){function r(){var e;I()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=ra(this,r,[].concat(o)),S()(e,"FORMAT","code_93"),e}return le()(r,t),z()(r,[{key:"_patternToChar",value:function(e){for(var n=0;n<fn.length;n++)if(fn[n]===e)return String.fromCharCode(At[n]);return null}},{key:"_toPattern",value:function(e){for(var n=e.length,o=e.reduce(function(d,g){return d+g},0),i=0,u=0;u<n;u++){var l=Math.round(9*e[u]/o);if(l<1||l>4)return-1;if(1&u)i<<=l;else for(var h=0;h<l;h++)i=i<<1|1}return i}},{key:"_findStart",value:function(){for(var e=this._nextSet(this._row),n=e,o=new Uint16Array([0,0,0,0,0,0]),i=0,u=!1,l=e;l<this._row.length;l++)if(this._row[l]^(u?1:0))o[i]++;else{if(i===o.length-1){if(this._toPattern(o)===350){var h=Math.floor(Math.max(0,n-(l-n)/4));if(this._matchRange(h,n,0))return{start:n,end:l}}n+=o[0]+o[1];for(var d=0;d<4;d++)o[d]=o[d+2];o[4]=0,o[5]=0,i--}else i++;o[i]=1,u=!u}return null}},{key:"_verifyEnd",value:function(e,n){return!(e===n||!this._row[n])}},{key:"_decodeExtended",value:function(e){for(var n=e.length,o=[],i=0;i<n;i++){var u=e[i];if(u>="a"&&u<="d"){if(i>n-2)return null;var l=e[++i],h=l.charCodeAt(0),d=void 0;switch(u){case"a":if(!(l>="A"&&l<="Z"))return null;d=String.fromCharCode(h-64);break;case"b":if(l>="A"&&l<="E")d=String.fromCharCode(h-38);else if(l>="F"&&l<="J")d=String.fromCharCode(h-11);else if(l>="K"&&l<="O")d=String.fromCharCode(h+16);else if(l>="P"&&l<="S")d=String.fromCharCode(h+43);else{if(!(l>="T"&&l<="Z"))return null;d=""}break;case"c":if(l>="A"&&l<="O")d=String.fromCharCode(h-32);else{if(l!=="Z")return null;d=":"}break;case"d":if(!(l>="A"&&l<="Z"))return null;d=String.fromCharCode(h+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",d),null}o.push(d)}else o.push(u)}return o}},{key:"_matchCheckChar",value:function(e,n,o){var i=e.slice(0,n),u=i.length,l=i.reduce(function(h,d,g){return h+((-1*g+(u-1))%o+1)*At.indexOf(d.charCodeAt(0))},0);return At[l%47]===e[n].charCodeAt(0)}},{key:"_verifyChecksums",value:function(e){return this._matchCheckChar(e,e.length-2,20)&&this._matchCheckChar(e,e.length-1,15)}},{key:"decode",value:function(e,n){if(!(n=this._findStart()))return null;var o,i,u=new Uint16Array([0,0,0,0,0,0]),l=[],h=this._nextSet(this._row,n.end);do{u=this._toCounters(h,u);var d=this._toPattern(u);if(d<0||(i=this._patternToChar(d))===null)return null;l.push(i),o=h,h+=wt(u),h=this._nextSet(this._row,h)}while(i!=="*");return l.pop(),l.length&&this._verifyEnd(o,h)&&this._verifyChecksums(l)?(l=l.slice(0,l.length-2),(l=this._decodeExtended(l))===null?null:{code:l.join(""),start:n.start,end:h,startInfo:n,decodedCodes:l,format:this.FORMAT}):null}}])}(Pe);function dn(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),e.push.apply(e,n)}return e}function Et(t){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?dn(Object(e),!0).forEach(function(n){S()(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):dn(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function oa(t,r,e){return r=H()(r),se()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],H()(t).constructor):r.apply(t,e))}var aa=[1,1,1],hn=[1,1,1,1,1],ia=[1,1,2],vn=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],pn=[0,11,13,14,19,25,28,21,22,26],Ne=function(t){function r(e,n){var o;return I()(this,r),o=oa(this,r,[A()({supplements:[]},e),n]),S()(o,"FORMAT","ean_13"),S()(o,"SINGLE_CODE_ERROR",.7),S()(o,"STOP_PATTERN",[1,1,1]),o}return le()(r,t),z()(r,[{key:"_findPattern",value:function(e,n,o,i){var u=new Array(e.length).fill(0),l={error:Number.MAX_VALUE,start:0,end:0},h=0;n||(n=this._nextSet(this._row));for(var d=!1,g=n;g<this._row.length;g++)if(this._row[g]^(o?1:0))u[h]+=1;else{if(h===u.length-1){var y=this._matchPattern(u,e);if(y<.48&&l.error&&y<l.error)return d=!0,l.error=y,l.start=g-u.reduce(function(O,R){return O+R},0),l.end=g,l;if(i){for(var b=0;b<u.length-2;b++)u[b]=u[b+2];u[u.length-2]=0,u[u.length-1]=0,h--}}else h++;u[h]=1,o=!o}return d?l:null}},{key:"_decodeCode",value:function(e,n){var o=[0,0,0,0],i=e,u={error:Number.MAX_VALUE,code:-1,start:e,end:e},l=!this._row[i],h=0;n||(n=vn.length);for(var d=i;d<this._row.length;d++)if(this._row[d]^(l?1:0))o[h]++;else{if(h===o.length-1){for(var g=0;g<n;g++){var y=this._matchPattern(o,vn[g]);u.end=d,y<u.error&&(u.code=g,u.error=y)}return u.error>.48?null:u}o[++h]=1,l=!l}return null}},{key:"_findStart",value:function(){for(var e=this._nextSet(this._row),n=null;!n;){if(!(n=this._findPattern(aa,e,!1,!0)))return null;var o=n.start-(n.end-n.start);if(o>=0&&this._matchRange(o,n.start,0))return n;e=n.end,n=null}return null}},{key:"_calculateFirstDigit",value:function(e){for(var n=0;n<pn.length;n++)if(e===pn[n])return n;return null}},{key:"_decodePayload",value:function(e,n,o){for(var i=Et({},e),u=0,l=0;l<6;l++){if(!(i=this._decodeCode(i.end)))return null;i.code>=10?(i.code-=10,u|=1<<5-l):u|=0<<5-l,n.push(i.code),o.push(i)}var h=this._calculateFirstDigit(u);if(h===null)return null;n.unshift(h);var d=this._findPattern(hn,i.end,!0,!1);if(d===null||!d.end)return null;o.push(d);for(var g=0;g<6;g++){if(!(d=this._decodeCode(d.end,10)))return null;o.push(d),n.push(d.code)}return d}},{key:"_verifyTrailingWhitespace",value:function(e){var n=e.end+(e.end-e.start);return n<this._row.length&&this._matchRange(e.end,n,0)?e:null}},{key:"_findEnd",value:function(e,n){var o=this._findPattern(this.STOP_PATTERN,e,n,!1);return o!==null?this._verifyTrailingWhitespace(o):null}},{key:"_checksum",value:function(e){for(var n=0,o=e.length-2;o>=0;o-=2)n+=e[o];n*=3;for(var i=e.length-1;i>=0;i-=2)n+=e[i];return n%10==0}},{key:"_decodeExtensions",value:function(e){var n=this._nextSet(this._row,e),o=this._findPattern(ia,n,!1,!1);if(o===null)return null;for(var i=0;i<this.supplements.length;i++)try{var u=this.supplements[i].decode(this._row,o.end);if(u!==null)return{code:u.code,start:n,startInfo:o,end:u.end,decodedCodes:u.decodedCodes,format:this.supplements[i].FORMAT}}catch(l){console.error("* decodeExtensions error in ",this.supplements[i],": ",l)}return null}},{key:"decode",value:function(e,n){var o=new Array,i=new Array,u={},l=this._findStart();if(!l)return null;var h={start:l.start,end:l.end};if(i.push(h),!(h=this._decodePayload(h,o,i))||!(h=this._findEnd(h.end,!1))||(i.push(h),!this._checksum(o)))return null;if(this.supplements.length>0){var d=this._decodeExtensions(h.end);if(!d||!d.decodedCodes)return null;var g=d.decodedCodes[d.decodedCodes.length-1],y={start:g.start+((g.end-g.start)/2|0),end:g.end};if(!this._verifyTrailingWhitespace(y))return null;u={supplement:d,code:o.join("")+d.code}}return Et(Et({code:o.join(""),start:l.start,end:h.end,startInfo:l,decodedCodes:i},u),{},{format:this.FORMAT})}}])}(Pe);function ua(t,r,e){return r=H()(r),se()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],H()(t).constructor):r.apply(t,e))}var gn=function(t){function r(){var e;I()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=ua(this,r,[].concat(o)),S()(e,"FORMAT","ean_2"),e}return le()(r,t),z()(r,[{key:"decode",value:function(e,n){e&&(this._row=e);var o=0,i=n,u=this._row.length,l=[],h=[],d=null;if(i===void 0)return null;for(var g=0;g<2&&i<u;g++){if(!(d=this._decodeCode(i)))return null;h.push(d),l.push(d.code%10),d.code>=10&&(o|=1<<1-g),g!==1&&(i=this._nextSet(this._row,d.end),i=this._nextUnset(this._row,i))}if(l.length!==2||parseInt(l.join(""))%4!==o)return null;var y=this._findStart();return{code:l.join(""),decodedCodes:h,end:d.end,format:this.FORMAT,startInfo:y,start:y.start}}}])}(Ne);function ca(t,r,e){return r=H()(r),se()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],H()(t).constructor):r.apply(t,e))}var sa=[24,20,18,17,12,6,3,10,9,5],yn=function(t){function r(){var e;I()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=ca(this,r,[].concat(o)),S()(e,"FORMAT","ean_5"),e}return le()(r,t),z()(r,[{key:"decode",value:function(e,n){if(n===void 0)return null;e&&(this._row=e);for(var o=0,i=n,u=this._row.length,l=null,h=[],d=[],g=0;g<5&&i<u;g++){if(!(l=this._decodeCode(i)))return null;d.push(l),h.push(l.code%10),l.code>=10&&(o|=1<<4-g),g!==4&&(i=this._nextSet(this._row,l.end),i=this._nextUnset(this._row,i))}if(h.length!==5||function(b){for(var O=b.length,R=0,w=O-2;w>=0;w-=2)R+=b[w];R*=3;for(var C=O-1;C>=0;C-=2)R+=b[C];return(R*=3)%10}(h)!==function(b){for(var O=0;O<10;O++)if(b===sa[O])return O;return null}(o))return null;var y=this._findStart();return{code:h.join(""),decodedCodes:d,end:l.end,format:this.FORMAT,startInfo:y,start:y.start}}}])}(Ne);function fa(t,r,e){return r=H()(r),se()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],H()(t).constructor):r.apply(t,e))}var mn=function(t){function r(){var e;I()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=fa(this,r,[].concat(o)),S()(e,"FORMAT","ean_8"),e}return le()(r,t),z()(r,[{key:"_decodePayload",value:function(e,n,o){for(var i=e,u=0;u<4;u++){if(!(i=this._decodeCode(i.end,10)))return null;n.push(i.code),o.push(i)}if((i=this._findPattern(hn,i.end,!0,!1))===null)return null;o.push(i);for(var l=0;l<4;l++){if(!(i=this._decodeCode(i.end,10)))return null;o.push(i),n.push(i.code)}return i}}])}(Ne);function la(t,r,e){return r=H()(r),se()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],H()(t).constructor):r.apply(t,e))}var xn=function(t){function r(e){var n;return I()(this,r),n=la(this,r,[A()({normalizeBarSpaceWidth:!1},e)]),S()(n,"barSpaceRatio",[1,1]),S()(n,"SINGLE_CODE_ERROR",.78),S()(n,"AVG_CODE_ERROR",.38),S()(n,"START_PATTERN",[1,1,1,1]),S()(n,"STOP_PATTERN",[1,1,3]),S()(n,"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),S()(n,"MAX_CORRECTION_FACTOR",5),S()(n,"FORMAT","i2of5"),e.normalizeBarSpaceWidth&&(n.SINGLE_CODE_ERROR=.38,n.AVG_CODE_ERROR=.09),n.config=e,se()(n,n)}return le()(r,t),z()(r,[{key:"_matchPattern",value:function(e,n){if(this.config.normalizeBarSpaceWidth){for(var o=[0,0],i=[0,0],u=[0,0],l=this.MAX_CORRECTION_FACTOR,h=1/l,d=0;d<e.length;d++)o[d%2]+=e[d],i[d%2]+=n[d];u[0]=i[0]/o[0],u[1]=i[1]/o[1],u[0]=Math.max(Math.min(u[0],l),h),u[1]=Math.max(Math.min(u[1],l),h),this.barSpaceRatio=u;for(var g=0;g<e.length;g++)e[g]*=this.barSpaceRatio[g%2]}return(y=r,b="_matchPattern",O=this,R=3,w=ct()(H()(1&R?y.prototype:y),b,O),2&R&&typeof w=="function"?function(C){return w.apply(O,C)}:w)([e,n]);var y,b,O,R,w}},{key:"_findPattern",value:function(e,n){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=arguments.length>3&&arguments[3]!==void 0&&arguments[3],u=new Array(e.length).fill(0),l=0,h={error:Number.MAX_VALUE,start:0,end:0},d=this.AVG_CODE_ERROR;o=o||!1,i=i||!1,n||(n=this._nextSet(this._row));for(var g=n;g<this._row.length;g++)if(this._row[g]^(o?1:0))u[l]++;else{if(l===u.length-1){var y=u.reduce(function(R,w){return R+w},0),b=this._matchPattern(u,e);if(b<d)return h.error=b,h.start=g-y,h.end=g,h;if(!i)return null;for(var O=0;O<u.length-2;O++)u[O]=u[O+2];u[u.length-2]=0,u[u.length-1]=0,l--}else l++;u[l]=1,o=!o}return null}},{key:"_findStart",value:function(){for(var e=0,n=this._nextSet(this._row),o=null,i=1;!o;){if(!(o=this._findPattern(this.START_PATTERN,n,!1,!0)))return null;if(i=Math.floor((o.end-o.start)/4),(e=o.start-10*i)>=0&&this._matchRange(e,o.start,0))return o;n=o.end,o=null}return null}},{key:"_verifyTrailingWhitespace",value:function(e){var n=e.end+(e.end-e.start)/2;return n<this._row.length&&this._matchRange(e.end,n,0)?e:null}},{key:"_findEnd",value:function(){this._row.reverse();var e=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),e===null)return null;var n=e.start;return e.start=this._row.length-e.end,e.end=this._row.length-n,e!==null?this._verifyTrailingWhitespace(e):null}},{key:"_decodePair",value:function(e){for(var n=[],o=0;o<e.length;o++){var i=this._decodeCode(e[o]);if(!i)return null;n.push(i)}return n}},{key:"_decodeCode",value:function(e){for(var n=this.AVG_CODE_ERROR,o={error:Number.MAX_VALUE,code:-1,start:0,end:0},i=0;i<this.CODE_PATTERN.length;i++){var u=this._matchPattern(e,this.CODE_PATTERN[i]);u<o.error&&(o.code=i,o.error=u)}return o.error<n?o:null}},{key:"_decodePayload",value:function(e,n,o){for(var i=0,u=e.length,l=[[0,0,0,0,0],[0,0,0,0,0]],h=null;i<u;){for(var d=0;d<5;d++)l[0][d]=e[i]*this.barSpaceRatio[0],l[1][d]=e[i+1]*this.barSpaceRatio[1],i+=2;if(!(h=this._decodePair(l)))return null;for(var g=0;g<h.length;g++)n.push(h[g].code+""),o.push(h[g])}return h}},{key:"_verifyCounterLength",value:function(e){return e.length%10==0}},{key:"decode",value:function(e,n){var o=new Array,i=new Array,u=this._findStart();if(!u)return null;i.push(u);var l=this._findEnd();if(!l)return null;var h=this._fillCounters(u.end,l.start,!1);return this._verifyCounterLength(h)&&this._decodePayload(h,o,i)?o.length%2!=0||o.length<6?null:(i.push(l),{code:o.join(""),start:u.start,end:l.end,startInfo:u,decodedCodes:i,format:this.FORMAT}):null}}])}(Pe);function et(t,r){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(h,d){if(h){if(typeof h=="string")return _n(h,d);var g={}.toString.call(h).slice(8,-1);return g==="Object"&&h.constructor&&(g=h.constructor.name),g==="Map"||g==="Set"?Array.from(h):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?_n(h,d):void 0}}(t))||r){e&&(t=e);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(h){throw h},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,u=!0,l=!1;return{s:function(){e=e.call(t)},n:function(){var h=e.next();return u=h.done,h},e:function(h){l=!0,i=h},f:function(){try{u||e.return==null||e.return()}finally{if(l)throw i}}}}function _n(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=Array(r);e<r;e++)n[e]=t[e];return n}function da(t,r,e){return r=H()(r),se()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],H()(t).constructor):r.apply(t,e))}var bn=[2,2.5,3],wn=function(t){function r(){var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return I()(this,r),e=da(this,r,[n]),S()(e,"FORMAT","pharmacode"),S()(e,"SINGLE_CODE_ERROR",.7),S()(e,"AVG_CODE_ERROR",.48),e}return le()(r,t),z()(r,[{key:"_findStart",value:function(){for(var e=0;e<this._row.length;){var n=this._nextSet(this._row,e);if(n>=this._row.length)return null;for(var o=n;o<this._row.length&&this._row[o];)o++;var i=o-n;if(i<5)e=o+1;else{var u=n-Math.max(2*i,20);if(u<0)e=o+1;else if(this._matchRange(u,n,0)){var l=Math.max(10*i,50),h=this._nextSet(this._row,o);if(h>=this._row.length)e=o+1;else{if(!(h-o>l))return{start:n,end:o};e=o+1}}else e=o+1}}return null}},{key:"_smoothBarWidths",value:function(e){if(e.length<=2)return e;for(var n=e.slice(),o=1;o<n.length-1;o++){var i=n[o-1],u=n[o],l=[i,u,n[o+1]].sort(function(d,g){return d-g})[1],h=Math.abs(u-l);h>0&&h<=3&&(n[o]=l)}return n}},{key:"_extractBarsAndSpaces",value:function(e){for(var n=[],o=[],i=e,u=0,l=!1;i<this._row.length&&this._row[i];)u++,i++;if(u===0)return null;for(n.push(u),u=0;i<this._row.length&&!this._row[i];)u++,i++;if(u===0||i>=this._row.length)return null;o.push(u);for(var h=6*(n[0]<o[0]?n[0]:.8*o[0]),d=2.5*o[0];i<this._row.length&&n.length<16;){for(u=0;i<this._row.length&&this._row[i];)u++,i++;if(u===0)break;n.push(u),u=0;for(var g=i;i<this._row.length&&!this._row[i];)u++,i++;if(u===0)break;if(u>=h){l=!0,i=g;break}if(n.length>=2&&u>=d){l=!0,i=g;break}if(i>=this._row.length){l=!0,i=g;break}o.push(u),o.length>=2&&(d=2*(o.reduce(function(y,b){return y+b},0)/o.length))}return l?n.length<2||n.length>16||o.length!==n.length-1?null:this._validateSpaces(o)&&this._validateBarSizeCount(n)?{bars:this._smoothBarWidths(n),spaces:o,end:i}:null:null}},{key:"_validateBarSizeCount",value:function(e){if(e.length===0)return!1;var n,o=[],i=et(e);try{for(i.s();!(n=i.n()).done;){var u,l=n.value,h=!1,d=et(o);try{for(d.s();!(u=d.n()).done;){var g=u.value,y=g.reduce(function(b,O){return b+O},0)/g.length;if(Math.abs(l-y)<=.35*y){g.push(l),h=!0;break}}}catch(b){d.e(b)}finally{d.f()}h||o.push([l])}}catch(b){i.e(b)}finally{i.f()}return!(o.length>2)}},{key:"_validateSpaces",value:function(e){if(e.length===0)return!0;var n=e.reduce(function(i,u){return i+u},0)/e.length;if(n===0)return!1;var o=e.reduce(function(i,u){return i+Math.pow(u-n,2)},0)/e.length;return Math.sqrt(o)/n<=.35}},{key:"_validateBarRatios",value:function(e,n){var o=e.reduce(function(Y,fe){return Y+fe},0)/e.length,i=e.reduce(function(Y,fe){return Y+Math.abs(fe-o)},0)/e.length;if((o===0?0:i/o)<=.1){var u=n.length>0?n.reduce(function(Y,fe){return Y+fe},0)/n.length:0;return u>0&&u/o<.7?{narrowWidth:o/2.5,wideRatio:2.5}:{narrowWidth:o,wideRatio:2}}var l=Array.from(new Set(e.slice().sort(function(Y,fe){return Y-fe})));if(l.length<2)return{narrowWidth:e.reduce(function(Y,fe){return Y+fe},0)/e.length,wideRatio:2};for(var h=[],d=0;d<l.length-1;d++){var g,y=(l[d]+l[d+1])/2,b=[],O=[],R=et(e);try{for(R.s();!(g=R.n()).done;){var w=g.value;w<y?b.push(w):O.push(w)}}catch(Y){R.e(Y)}finally{R.f()}if(b.length!==0&&O.length!==0){for(var C=b.reduce(function(Y,fe){return Y+fe},0)/b.length,E=O.reduce(function(Y,fe){return Y+fe},0)/O.length,k=E/C,T=bn[0],D=Math.abs(k-T),N=0,V=bn;N<V.length;N++){var L=V[N],X=Math.abs(k-L);X<D&&(D=X,T=L)}h.push({threshold:y,narrowBars:b,wideBars:O,avgN:C,avgW:E,ratio:k,ratioDiff:D,matchedRatio:T})}}h.sort(function(Y,fe){return Y.ratioDiff-fe.ratioDiff});for(var xe=0,Oe=h;xe<Oe.length;xe++){var ae=Oe[xe],at=.05*ae.matchedRatio;if(!(Math.abs(ae.ratio-ae.matchedRatio)>at)){var Te,Be=.15*ae.avgN,Le=.15*ae.avgW,Ie=!0,J=et(ae.narrowBars);try{for(J.s();!(Te=J.n()).done;){var Me=Te.value;if(Math.abs(Me-ae.avgN)>Be){Ie=!1;break}}}catch(Y){J.e(Y)}finally{J.f()}if(Ie){var it,qe=et(ae.wideBars);try{for(qe.s();!(it=qe.n()).done;){var Ee=it.value;if(Math.abs(Ee-ae.avgW)>Le){Ie=!1;break}}}catch(Y){qe.e(Y)}finally{qe.f()}if(Ie)return{narrowWidth:ae.avgN,wideRatio:ae.matchedRatio}}}}return null}},{key:"_validatePeriodicity",value:function(e,n){if(e.length>0){var o=e.reduce(function(g,y){return g+y},0)/e.length,i=e.reduce(function(g,y){return g+Math.pow(y-o,2)},0)/e.length,u=Math.sqrt(i);if((o!==0?u/o:0)>.65)return!1}if(n.length>0){var l=n.reduce(function(g,y){return g+y},0)/n.length,h=n.reduce(function(g,y){return g+Math.pow(y-l,2)},0)/n.length,d=Math.sqrt(h);if((l!==0?d/l:0)>.55)return!1}return!0}},{key:"_validateQuietZones",value:function(e,n,o){var i=1*n;if(e.start>=2&&e.start<i)return!1;var u=this._row.length-o;return u<6||!(u<i)}},{key:"_decodeBars",value:function(e,n){for(var o=1.6*(n??Math.min.apply(Math,st()(e))),i=0,u=e.slice().reverse(),l=0;l<u.length;l++)i+=u[l]>o?Math.pow(2,l+1):Math.pow(2,l);for(var h="",d=u.length-1;d>=0;d--)h+=u[d]>o?"W":"N";return{value:i,pattern:h}}},{key:"_verifyTrailingWhitespace",value:function(e,n){var o=Math.min(e+2*n,this._row.length);return this._matchRange(e,o,0)}},{key:"_validatePatternConsistency",value:function(e,n){for(var o=e.start,i=0,u=0,l=0,h=[-2,-1,1,2];l<h.length;l++){var d=o+h[l];if(!(d<0||d>=this._row.length)){u++;var g=this._extractBarsAndSpaces(d);if(g&&g.bars.length===n.length){for(var y=!0,b=0;b<n.length;b++)if(Math.abs(g.bars[b]-n[b])/Math.max(n[b],1)>.25){y=!1;break}y&&i++}}}return u>0&&i>=.5*u}},{key:"decode",value:function(e,n){var o=this._findStart();if(!o||o.start>.5*this._row.length)return null;var i=this._extractBarsAndSpaces(o.start);if(!i)return null;var u=i.bars,l=i.spaces,h=i.end;if(u.reduce(function(R,w){return R+w},0)+l.reduce(function(R,w){return R+w},0)<20||this._row.length-h<0||!this._validateSpaces(l)||!this._validatePeriodicity(u,l)||!this._validatePatternConsistency(o,u))return null;var d=this._validateBarRatios(u,l);if(!d||!this._validateQuietZones(o,d.narrowWidth,h))return null;var g=this._decodeBars(u,d.narrowWidth);if(!g)return null;var y=g.value;if(y<3||y>131070)return null;var b=u.reduce(function(R,w){return R+w},0)/u.length;this._verifyTrailingWhitespace(h,b);var O=u.map(function(R,w){return{code:R>1.6*Math.min.apply(Math,st()(u))?1:0,start:0,end:0,error:0}});return{code:y.toString(),start:o.start,end:h,startInfo:o,decodedCodes:O,pattern:g.pattern,format:this.FORMAT}}}])}(Pe);S()(wn,"adjacentLineValidationMatches",1);var kt=wn;function On(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),e.push.apply(e,n)}return e}function ha(t,r,e){return r=H()(r),se()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],H()(t).constructor):r.apply(t,e))}function Mn(t,r,e,n){var o=ct()(H()(t.prototype),r,e);return 2&n&&typeof o=="function"?function(i){return o.apply(e,i)}:o}var Cn=function(t){function r(){var e;I()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=ha(this,r,[].concat(o)),S()(e,"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),S()(e,"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),S()(e,"FORMAT","upc_e"),e}return le()(r,t),z()(r,[{key:"_decodePayload",value:function(e,n,o){for(var i=function(h){for(var d=1;d<arguments.length;d++){var g=arguments[d]!=null?arguments[d]:{};d%2?On(Object(g),!0).forEach(function(y){S()(h,y,g[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(g)):On(Object(g)).forEach(function(y){Object.defineProperty(h,y,Object.getOwnPropertyDescriptor(g,y))})}return h}({},e),u=0,l=0;l<6;l++){if(!(i=this._decodeCode(i.end)))return null;i.code>=10&&(i.code=i.code-10,u|=1<<5-l),n.push(i.code),o.push(i)}return this._determineParity(u,n)?i:null}},{key:"_determineParity",value:function(e,n){for(var o=0;o<this.CODE_FREQUENCY.length;o++)for(var i=0;i<this.CODE_FREQUENCY[o].length;i++)if(e===this.CODE_FREQUENCY[o][i])return n.unshift(o),n.push(i),!0;return!1}},{key:"_convertToUPCA",value:function(e){var n=[e[0]],o=e[e.length-2];return(n=o<=2?n.concat(e.slice(1,3)).concat([o,0,0,0,0]).concat(e.slice(3,6)):o===3?n.concat(e.slice(1,4)).concat([0,0,0,0,0]).concat(e.slice(4,6)):o===4?n.concat(e.slice(1,5)).concat([0,0,0,0,0,e[5]]):n.concat(e.slice(1,6)).concat([0,0,0,0,o])).push(e[e.length-1]),n}},{key:"_checksum",value:function(e){return Mn(r,"_checksum",this,3)([this._convertToUPCA(e)])}},{key:"_findEnd",value:function(e,n){return Mn(r,"_findEnd",this,3)([e,!0])}},{key:"_verifyTrailingWhitespace",value:function(e){var n=e.end+(e.end-e.start)/2;return n<this._row.length&&this._matchRange(e.end,n,0)?e:null}}])}(Ne);function va(t,r,e){return r=H()(r),se()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],H()(t).constructor):r.apply(t,e))}var Rn=function(t){function r(){var e;I()(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=va(this,r,[].concat(o)),S()(e,"FORMAT","upc_a"),e}return le()(r,t),z()(r,[{key:"decode",value:function(e,n){var o=Ne.prototype.decode.call(this);return o&&o.code&&o.code.length===13&&o.code.charAt(0)==="0"?(o.code=o.code.substring(1),o):null}}])}(Ne),lt={},dt={UP:1,DOWN:-1};lt.getBarcodeLine=function(t,r,e){var n,o,i,u,l,h=0|r.x,d=0|r.y,g=0|e.x,y=0|e.y,b=Math.abs(y-d)>Math.abs(g-h),O=[],R=t.data,w=t.size.x,C=255,E=0;function k(V,L){l=R[L*w+V],C=l<C?l:C,E=l>E?l:E,O.push(l)}b&&(i=h,h=d,d=i,i=g,g=y,y=i),h>g&&(i=h,h=g,g=i,i=d,d=y,y=i);var T=g-h,D=Math.abs(y-d);n=T/2|0,o=d;var N=d<y?1:-1;for(u=h;u<g;u++)b?k(o,u):k(u,o),(n-=D)<0&&(o+=N,n+=T);return{line:O,min:C,max:E}},lt.toBinaryLine=function(t){var r,e,n,o,i,u,l=t.min,h=t.max,d=t.line,g=l+(h-l)/2,y=[],b=(h-l)/12,O=-b;for(n=d[0]>g?dt.UP:dt.DOWN,y.push({pos:0,val:d[0]}),i=0;i<d.length-2;i++)n!==(o=(r=d[i+1]-d[i])+(e=d[i+2]-d[i+1])<O&&d[i+1]<1.5*g?dt.DOWN:r+e>b&&d[i+1]>.5*g?dt.UP:n)&&(y.push({pos:i,val:d[i]}),n=o);for(y.push({pos:d.length,val:d[d.length-1]}),u=y[0].pos;u<y[1].pos;u++)d[u]=d[u]>g?0:1;for(i=1;i<y.length-1;i++)for(b=y[i+1].val>y[i].val?y[i].val+(y[i+1].val-y[i].val)/3*2|0:y[i+1].val+(y[i].val-y[i+1].val)/3|0,u=y[i].pos;u<y[i+1].pos;u++)d[u]=d[u]>b?0:1;return{line:d,threshold:b}},lt.debug={printFrequency:function(t,r){var e,n=r.getContext("2d");for(r.width=t.length,r.height=256,n.beginPath(),n.strokeStyle="blue",e=0;e<t.length;e++)n.moveTo(e,255),n.lineTo(e,255-t[e]);n.stroke(),n.closePath()},printPattern:function(t,r){var e,n=r.getContext("2d");for(r.width=t.length,n.fillColor="black",e=0;e<t.length;e++)t[e]===1&&n.fillRect(e,0,1,100)}};var ht=lt;function pa(t,r){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(h,d){if(h){if(typeof h=="string")return Sn(h,d);var g={}.toString.call(h).slice(8,-1);return g==="Object"&&h.constructor&&(g=h.constructor.name),g==="Map"||g==="Set"?Array.from(h):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?Sn(h,d):void 0}}(t))||r){e&&(t=e);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(h){throw h},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,u=!0,l=!1;return{s:function(){e=e.call(t)},n:function(){var h=e.next();return u=h.done,h},e:function(h){l=!0,i=h},f:function(){try{u||e.return==null||e.return()}finally{if(l)throw i}}}}function Sn(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=Array(r);e<r;e++)n[e]=t[e];return n}var tt={code_128_reader:an,ean_reader:Ne,ean_5_reader:yn,ean_2_reader:gn,ean_8_reader:mn,code_39_reader:ft,code_39_vin_reader:sn,codabar_reader:on,upc_reader:Rn,upc_e_reader:Cn,i2of5_reader:xn,"2of5_reader":nn,code_93_reader:ln,code_32_reader:cn,pharmacode_reader:kt},jt={registerReader:function(t,r){tt[t]=r},create:function(t,r){var e=[];function n(){t.readers.forEach(function(h){var d,g={},y=[];_()(h)==="object"?(d=h.format,g=h.config):typeof h=="string"&&(d=h),g.supplements&&(y=g.supplements.map(function(O){return new tt[O]}));try{var b=new tt[d](g,y);e.push(b)}catch(O){throw console.error("* Error constructing reader ",d,O),O}})}function o(h){var d,g=null,y=ht.getBarcodeLine(r,h[0],h[1]);ht.toBinaryLine(y);var b=-1;for(d=0;d<e.length&&g===null;d++)typeof e[d].setImageWrapper=="function"&&e[d].setImageWrapper(r),(g=e[d].decodePattern(y.line))!==null&&(b=d);return g===null||b>=0&&e[b]instanceof kt&&!function(O,R,w,C){var E=Math.round(O[1].y),k=R.start,T=w.constructor,D=T&&T.adjacentLineValidationMatches||0;if(D<=0)return!0;for(var N=0,V=!1,L=0,X=[1,2,3];L<X.length;L++){var xe=X[L];if(V)break;for(var Oe=0,ae=[-1,1];Oe<ae.length;Oe++){var at=ae[Oe];if(V)break;var Te=E+xe*at;if(!(Te<0||Te>=C.size.y)){var Be={x:O[0].x,y:Te},Le={x:O[1].x,y:Te};try{var Ie=ht.getBarcodeLine(C,Be,Le);ht.toBinaryLine(Ie),w._row=Ie.line;var J=w._findStart();if(J!==null&&J.start===k&&++N>=D){V=!0;break}}catch{}}}}return N>=D}(h,g,e[b],r)?null:{codeResult:g,barcodeLine:y}}function i(h){return u.apply(this,arguments)}function u(){return(u=je()(ie.a.mark(function h(d){var g,y,b,O,R;return ie.a.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:g=null,y=pa(e),w.prev=1,y.s();case 2:if((b=y.n()).done){w.next=5;break}if(!(O=b.value).decodeImage){w.next=4;break}return w.next=3,O.decodeImage(d);case 3:if(!(g=w.sent)){w.next=4;break}return w.abrupt("continue",5);case 4:w.next=2;break;case 5:w.next=7;break;case 6:w.prev=6,R=w.catch(1),y.e(R);case 7:return w.prev=7,y.f(),w.finish(7);case 8:return w.abrupt("return",g);case 9:case"end":return w.stop()}},h,null,[[1,6,7,8]])}))).apply(this,arguments)}function l(h){var d,g,y=function(O){return Math.sqrt(Math.pow(Math.abs(O[1].y-O[0].y),2)+Math.pow(Math.abs(O[1].x-O[0].x),2))}(d=function(O){return[{x:(O[1][0]-O[0][0])/2+O[0][0],y:(O[1][1]-O[0][1])/2+O[0][1]},{x:(O[3][0]-O[2][0])/2+O[2][0],y:(O[3][1]-O[2][1])/2+O[2][1]}]}(h)),b=Math.atan2(d[1].y-d[0].y,d[1].x-d[0].x);return(d=function(O,R,w){function C(E){var k=E*Math.sin(R),T=E*Math.cos(R);O[0].y-=k,O[0].x-=T,O[1].y+=k,O[1].x+=T}for(C(w);w>1&&(!r.inImageWithBorder(O[0])||!r.inImageWithBorder(O[1]));)C(-(w-=Math.ceil(w/2)));return O}(d,b,Math.floor(.1*y)))===null?null:((g=o(d))===null&&(g=function(O,R,w){var C,E,k,T=Math.sqrt(Math.pow(O[1][0]-O[0][0],2)+Math.pow(O[1][1]-O[0][1],2)),D=null,N=Math.sin(w),V=Math.cos(w);for(C=1;C<16&&D===null;C++)k={y:(E=T/16*C*(C%2==0?-1:1))*N,x:E*V},R[0].y+=k.x,R[0].x-=k.y,R[1].y+=k.x,R[1].x-=k.y,D=o(R);return D}(h,d,b)),g===null?null:{codeResult:g.codeResult,line:d,angle:b,pattern:g.barcodeLine.line,threshold:g.barcodeLine.threshold})}return n(),{decodeFromBoundingBox:function(h){return l(h)},decodeFromBoundingBoxes:function(h){var d,g,y=[],b=t.multiple;for(d=0;d<h.length;d++){var O=h[d];if((g=l(O)||{}).box=O,b)y.push(g);else if(g.codeResult)return g}return{barcodes:y}},decodeFromImage:function(h){return je()(ie.a.mark(function d(){var g;return ie.a.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=1,i(h);case 1:return g=y.sent,y.abrupt("return",g);case 2:case"end":return y.stop()}},d)}))()},registerReader:function(h,d){if(tt[h])throw new Error("cannot register existing reader",h);tt[h]=d},setReaders:function(h){t.readers=h,e.length=0,n()}}}},Ge=function(){var t={};function r(o){return t[o]||(t[o]={subscribers:[]}),t[o]}function e(o,i){o.async?setTimeout(function(){o.callback(i)},4):o.callback(i)}function n(o,i,u){var l;if(typeof i=="function")l={callback:i,async:u};else if(!(l=i).callback)throw new Error("Callback was not specified on options");r(o).subscribers.push(l)}return{subscribe:function(o,i,u){return n(o,i,u)},publish:function(o,i){var u=r(o),l=u.subscribers;l.filter(function(h){return!!h.once}).forEach(function(h){e(h,i)}),u.subscribers=l.filter(function(h){return!h.once}),u.subscribers.forEach(function(h){e(h,i)})},once:function(o,i){var u=arguments.length>2&&arguments[2]!==void 0&&arguments[2];n(o,{callback:i,async:u,once:!0})},unsubscribe:function(o,i){if(o){var u=r(o);u.subscribers=u&&i?u.subscribers.filter(function(l){return l.callback!==i}):[]}else t={}}}}(),ga=a(81),ya=a.n(ga),ma=a(82),xa=a.n(ma),_a=a(83);function ba(t,r,e){return r=H()(r),se()(t,function(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!n}()}()?Reflect.construct(r,e||[],H()(t).constructor):r.apply(t,e))}var Pt=function(t){function r(e,n){var o;return I()(this,r),o=ba(this,r,[e]),S()(o,"code",void 0),o.code=n,Object.setPrototypeOf(o,r.prototype),o}return le()(r,t),z()(r,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,code:this.code}}}])}(a.n(_a)()(Error)),An="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function wa(){try{return navigator.mediaDevices.enumerateDevices()}catch{var t=new Pt("enumerateDevices is not defined. ".concat(An),-1);return Promise.reject(t)}}function En(t){try{return navigator.mediaDevices.getUserMedia(t)}catch{var r=new Pt("getUserMedia is not defined. ".concat(An),-1);return Promise.reject(r)}}var He,Oa=["deviceId"];function kn(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),e.push.apply(e,n)}return e}function jn(t){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?kn(Object(e),!0).forEach(function(n){S()(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):kn(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function Ma(t,r){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(h,d){if(h){if(typeof h=="string")return Pn(h,d);var g={}.toString.call(h).slice(8,-1);return g==="Object"&&h.constructor&&(g=h.constructor.name),g==="Map"||g==="Set"?Array.from(h):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?Pn(h,d):void 0}}(t))||r){e&&(t=e);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(h){throw h},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,u=!0,l=!1;return{s:function(){e=e.call(t)},n:function(){var h=e.next();return u=h.done,h},e:function(h){l=!0,i=h},f:function(){try{u||e.return==null||e.return()}finally{if(l)throw i}}}}function Pn(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=Array(r);e<r;e++)n[e]=t[e];return n}function Ca(t){return new Promise(function(r,e){var n=10;(function o(){n>0?t.videoWidth>10&&t.videoHeight>10?r():window.setTimeout(o,500):e(new Pt("Unable to play video stream. Is webcam working?",-1)),n--})()})}function Ra(t,r){return Dn.apply(this,arguments)}function Dn(){return(Dn=je()(ie.a.mark(function t(r,e){var n;return ie.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=1,En(e);case 1:if(n=o.sent,He=n,!r){o.next=2;break}return r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r.srcObject=n,r.addEventListener("loadedmetadata",function(){r.play().catch(function(i){console.warn("* Error while trying to play video stream:",i)})}),o.abrupt("return",Ca(r));case 2:return o.abrupt("return",Promise.resolve());case 3:case"end":return o.stop()}},t)}))).apply(this,arguments)}function Tn(t){var r=xa()(t,["facing","minAspectRatio","maxAspectRatio"]);return t.minAspectRatio!==void 0&&t.minAspectRatio>0&&(r.aspectRatio=t.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),t.facing!==void 0&&(r.facingMode=t.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),r}function Sa(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=Tn(t);return r&&r.deviceId&&r.facingMode&&delete r.facingMode,Promise.resolve({audio:!1,video:r})}function In(){return(In=je()(ie.a.mark(function t(r){var e,n,o,i,u,l,h,d,g,y;return ie.a.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=1,wa();case 1:if(e=b.sent,n=e.filter(function(O){return O.kind==="videoinput"}),r){b.next=2;break}return b.abrupt("return",n);case 2:o=[],i=Tn(r),i.deviceId,u=ya()(i,Oa),l=Ma(n),b.prev=3,l.s();case 4:if((h=l.n()).done){b.next=9;break}return d=h.value,b.prev=5,g={audio:!1,video:jn(jn({},u),{},{deviceId:{exact:d.deviceId}})},b.next=6,En(g);case 6:b.sent.getTracks().forEach(function(O){return O.stop()}),o.push(d),b.next=8;break;case 7:b.prev=7,b.catch(5);case 8:b.next=4;break;case 9:b.next=11;break;case 10:b.prev=10,y=b.catch(3),l.e(y);case 11:return b.prev=11,l.f(),b.finish(11);case 12:return b.abrupt("return",o);case 13:case"end":return b.stop()}},t,null,[[3,10,11,12],[5,7]])}))).apply(this,arguments)}function vt(){if(!He)return null;var t=He.getVideoTracks();return t&&t!=null&&t.length?t[0]:null}var nt={requestedVideoElement:null,request:function(t,r){return je()(ie.a.mark(function e(){var n;return ie.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return nt.requestedVideoElement=t,o.next=1,Sa(r);case 1:return n=o.sent,o.abrupt("return",Ra(t,n));case 2:case"end":return o.stop()}},e)}))()},release:function(){var t=He&&He.getVideoTracks();return nt.requestedVideoElement!==null&&nt.requestedVideoElement.pause(),new Promise(function(r){setTimeout(function(){t&&t.length&&t.forEach(function(e){return e.stop()}),He=null,nt.requestedVideoElement=null,r()},0)})},enumerateVideoDevices:function(t){return In.apply(this,arguments)},getActiveStream:function(){var t;return(t=He)!==null&&t!==void 0?t:null},getActiveStreamLabel:function(){var t=vt();return t?t.label:""},getActiveTrack:vt,disableTorch:function(){return je()(ie.a.mark(function t(){var r,e;return ie.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=vt())){n.next=4;break}return n.prev=1,n.next=2,r.applyConstraints({advanced:[{torch:!1}]});case 2:n.next=4;break;case 3:throw n.prev=3,(e=n.catch(1))instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),e;case 4:case"end":return n.stop()}},t,null,[[1,3]])}))()},enableTorch:function(){return je()(ie.a.mark(function t(){var r,e;return ie.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=vt())){n.next=4;break}return n.prev=1,n.next=2,r.applyConstraints({advanced:[{torch:!0}]});case 2:n.next=4;break;case 3:throw n.prev=3,(e=n.catch(1))instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),e;case 4:case"end":return n.stop()}},t,null,[[1,3]])}))()}},pt=nt,zn={create:function(t){var r,e=document.createElement("canvas"),n=e.getContext("2d",{willReadFrequently:!!t.willReadFrequently}),o=[],i=(r=t.capacity)!==null&&r!==void 0?r:20,u=t.capture===!0;function l(h){return!!i&&h&&!function(d,g){return g&&g.some(function(y){return Object.keys(y).every(function(b){return y[b]===d[b]})})}(h,t.blacklist)&&function(d,g){return typeof g!="function"||g(d)}(h,t.filter)}return{addResult:function(h,d,g){var y={};l(g)&&(i--,y.codeResult=g,u&&(e.width=d.x,e.height=d.y,Ct.drawImage(h,d,n),y.frame=e.toDataURL()),o.push(y))},getResults:function(){return o}}}},Aa={inputStream:{type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,canvas:{createOverlay:!0},decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},Un=Math.PI/180,Nn={};Nn.create=function(t,r){var e,n={},o=t.getConfig(),i=Ot(t.getRealWidth(),t.getRealHeight()),u=t.getCanvasSize(),l=Ot(t.getWidth(),t.getHeight()),h=t.getTopRight(),d=h.x,g=h.y,y=null,b=null,O=o.willReadFrequently;function R(w,C,E,k,T){var D=Math.floor(k),N=Math.floor(T),V=Math.min(D+1,C-1),L=Math.min(N+1,E-1),X=k-D,xe=T-N;return(w[N*C+D]*(1-X)+w[N*C+V]*X)*(1-xe)+(w[L*C+D]*(1-X)+w[L*C+V]*X)*xe}return(e=r||document.createElement("canvas")).width=u.x,e.height=u.y,y=e.getContext("2d",{willReadFrequently:!!O}),b=new Uint8Array(l.x*l.y),n.attachData=function(w){b=w},n.getData=function(){return b},n.grab=function(){var w=o.halfSample,C=t.getFrame(),E=C,k=0;if(E){if(function(J,Me,it){J.width!==Me.x&&(J.width=Me.x),J.height!==Me.y&&(J.height=Me.y)}(e,u,o.debug),o.type==="ImageStream"&&(E=C.img,C.tags&&C.tags.orientation))switch(C.tags.orientation){case 6:k=90*Un;break;case 8:k=-90*Un}if(k!==0?(y.translate(u.x/2,u.y/2),y.rotate(k),y.drawImage(E,-u.y/2,-u.x/2,u.y,u.x),y.rotate(-k),y.translate(-u.x/2,-u.y/2)):y.drawImage(E,0,0,u.x,u.y),w)(function(J,Me,it){for(var qe,Ee=0,Y=Me.x,fe=Math.floor(J.length/4),ti=Me.x/2,Zn=0,Kn=Me.x;Y<fe;){for(qe=0;qe<ti;qe++)it[Zn]=(.299*J[4*Ee+0]+.587*J[4*Ee+1]+.114*J[4*Ee+2]+(.299*J[4*(Ee+1)+0]+.587*J[4*(Ee+1)+1]+.114*J[4*(Ee+1)+2])+(.299*J[4*Y+0]+.587*J[4*Y+1]+.114*J[4*Y+2])+(.299*J[4*(Y+1)+0]+.587*J[4*(Y+1)+1]+.114*J[4*(Y+1)+2]))/4,Zn++,Ee+=2,Y+=2;Ee+=Kn,Y+=Kn}})(y.getImageData(d,g,l.x,l.y).data,l,b);else{var T=document.createElement("canvas");T.width=i.x,T.height=i.y;var D=T.getContext("2d");k!==0?(D.translate(i.x/2,i.y/2),D.rotate(k),D.drawImage(E,-i.y/2,-i.x/2,i.y,i.x)):D.drawImage(E,0,0,i.x,i.y);var N=D.getImageData(0,0,i.x,i.y).data,V=new Uint8Array(i.x*i.y);Io(N,V,o);for(var L=new Uint8Array(u.x*u.y),X=i.x/u.x,xe=i.y/u.y,Oe=0;Oe<u.y;Oe++)for(var ae=0;ae<u.x;ae++){var at=ae*X,Te=Oe*xe;L[Oe*u.x+ae]=0|R(V,i.x,i.y,at,Te)}for(var Be=0;Be<l.y;Be++)for(var Le=0;Le<l.x;Le++){var Ie=(Be+g)*u.x+(Le+d);b[Be*l.x+Le]=L[Ie]}}return!0}return!1},n.getSize=function(){return l},n};var Ea=Nn,gt={274:"orientation"},Fn=Object.keys(gt).map(function(t){return gt[t]});function ka(t){return new Promise(function(r){var e=new FileReader;e.onload=function(n){return r(n.target.result)},e.readAsArrayBuffer(t)})}function ja(t){return new Promise(function(r,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onreadystatechange=function(){n.readyState!==XMLHttpRequest.DONE||n.status!==200&&n.status!==0||r(this.response)},n.onerror=e,n.send()})}function Pa(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fn,e=new DataView(t),n=t.byteLength,o=r.reduce(function(u,l){var h=Object.keys(gt).filter(function(d){return gt[d]===l})[0];return h&&(u[h]=l),u},{}),i=2;if(e.getUint8(0)!==255||e.getUint8(1)!==216)return!1;for(;i<n;){if(e.getUint8(i)!==255)return!1;if(e.getUint8(i+1)===225)return Da(e,i+4,o);i+=2+e.getUint16(i+2)}return!1}function Da(t,r,e){if(function(u,l,h){for(var d="",g=l;g<l+h;g++)d+=String.fromCharCode(u.getUint8(g));return d}(t,r,4)!=="Exif")return!1;var n,o=r+6;if(t.getUint16(o)===18761)n=!1;else{if(t.getUint16(o)!==19789)return!1;n=!0}if(t.getUint16(o+2,!n)!==42)return!1;var i=t.getUint32(o+4,!n);return!(i<8)&&function(u,l,h,d,g){for(var y=u.getUint16(h,!g),b={},O=0;O<y;O++){var R=h+12*O+2,w=d[u.getUint16(R,!g)];w&&(b[w]=Ta(u,R,l,h,g))}return b}(t,o,o+i,e,n)}function Ta(t,r,e,n,o){var i=t.getUint16(r+2,!o),u=t.getUint32(r+4,!o);switch(i){case 3:if(u===1)return t.getUint16(r+8,!o)}return null}function Ia(t,r){return"".concat(t,"image-").concat(r.toString().padStart(3,"0"),".jpg")}var Wn={};function za(t,r){t.onload=function(){r.loaded(this)},t.onerror=function(){r.loaded(this)}}Wn.load=function(t,r,e,n,o,i){var u,l,h,d=new Array(n),g=new Array(d.length);if(o===!1)d[0]=t;else for(u=0;u<d.length;u++)h=e+u,d[u]=Ia(t,h);for(g.notLoaded=[],g.addImage=function(y){g.notLoaded.push(y)},g.loaded=function(y){for(var b=g.notLoaded,O=0;O<b.length;O++)if(b[O]===y){b.splice(O,1);for(var R=0;R<d.length;R++){var w=encodeURI(d[R].substr(d[R].lastIndexOf("/")));if(y.src.lastIndexOf(w)!==-1){g[R]={img:y};break}}break}b.length===0&&(o===!1?function(C){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fn;return/^blob:/i.test(C)?ja(C).then(ka).then(function(k){return Pa(k,E)}):Promise.resolve(null)}(t,["orientation"]).then(function(C){g[0].tags=C,r(g)}).catch(function(C){console.log(C),r(g)}):r(g))},u=0;u<d.length;u++)l=new Image,g.addImage(l),za(l,g),l.src=d[u]};var Ua=Wn,Bn={createVideoStream:function(t){console.warn("**** InputStreamBrowser createVideoStream");var r,e,n=null,o=["canrecord","ended"],i={},u={x:0,y:0,type:"Point"},l={x:0,y:0,type:"XYSize"},h={getRealWidth:function(){return t.videoWidth},getRealHeight:function(){return t.videoHeight},getWidth:function(){return r},getHeight:function(){return e},setWidth:function(d){r=d},setHeight:function(d){e=d},setInputStream:function(d){n=d,this.setAttribute("src",d.src!==void 0?d.src:"")},ended:function(){return t.ended},getConfig:function(){return n},setAttribute:function(d,g){t&&t.setAttribute(d,g)},pause:function(){t.pause()},play:function(){t.play()},setCurrentTime:function(d){var g;((g=n)===null||g===void 0?void 0:g.type)!=="LiveStream"&&this.setAttribute("currentTime",d.toString())},addEventListener:function(d,g,y){o.indexOf(d)!==-1?(i[d]||(i[d]=[]),i[d].push(g)):t.addEventListener(d,g,y)},clearEventHandlers:function(){o.forEach(function(d){var g=i[d];g&&g.length>0&&g.forEach(function(y){t.removeEventListener(d,y)})})},trigger:function(d,g){var y,b,O,R,w,C=i[d];if(d==="canrecord"&&(R=t.videoWidth,w=t.videoHeight,r=(b=n)!==null&&b!==void 0&&b.size?R/w>1?n.size:Math.floor(R/w*n.size):R,e=(O=n)!==null&&O!==void 0&&O.size?R/w>1?Math.floor(w/R*n.size):n.size:w,l.x=r,l.y=e),C&&C.length>0)for(y=0;y<C.length;y++)C[y].apply(h,g)},setTopRight:function(d){u.x=d.x,u.y=d.y},getTopRight:function(){return u},setCanvasSize:function(d){l.x=d.x,l.y=d.y},getCanvasSize:function(){return l},getFrame:function(){return t}};return h},createLiveStream:function(t){console.warn("**** InputStreamBrowser createLiveStream"),t&&t.setAttribute("autoplay","true");var r=Bn.createVideoStream(t);return r.ended=function(){return!1},r},createImageStream:function(){var t,r,e=null,n=0,o=0,i=0,u=!0,l=!1,h=null,d=0,g=null,y=!1,b=["canrecord","ended"],O={},R={x:0,y:0,type:"Point"},w={x:0,y:0,type:"XYSize"};function C(k,T){var D,N=O[k];if(N&&N.length>0)for(D=0;D<N.length;D++)N[D].apply(E,T)}var E={trigger:C,getWidth:function(){return t},getHeight:function(){return r},setWidth:function(k){t=k},setHeight:function(k){r=k},getRealWidth:function(){return n},getRealHeight:function(){return o},setInputStream:function(k){var T;e=k,k.sequence===!1?(g=k.src,d=1):(g=k.src,d=k.length),l=!1,Ua.load(g,function(D){var N,V;if(h=D,D[0].tags&&D[0].tags.orientation)switch(D[0].tags.orientation){case 6:case 8:n=D[0].img.height,o=D[0].img.width;break;default:n=D[0].img.width,o=D[0].img.height}else n=D[0].img.width,o=D[0].img.height;t=(N=e)!==null&&N!==void 0&&N.size?n/o>1?e.size:Math.floor(n/o*e.size):n,r=(V=e)!==null&&V!==void 0&&V.size?n/o>1?Math.floor(o/n*e.size):e.size:o,w.x=t,w.y=r,l=!0,i=0,setTimeout(function(){C("canrecord",[])},0)},1,d,(T=e)===null||T===void 0?void 0:T.sequence,e)},ended:function(){return y},setAttribute:function(){},getConfig:function(){return e},pause:function(){u=!0},play:function(){u=!1},setCurrentTime:function(k){i=k},addEventListener:function(k,T){b.indexOf(k)!==-1&&(O[k]||(O[k]=[]),O[k].push(T))},clearEventHandlers:function(){Object.keys(O).forEach(function(k){return delete O[k]})},setTopRight:function(k){R.x=k.x,R.y=k.y},getTopRight:function(){return R},setCanvasSize:function(k){w.x=k.x,w.y=k.y},getCanvasSize:function(){return w},getFrame:function(){var k,T;return l?(u||(k=(T=h)===null||T===void 0?void 0:T[i],i<d-1?i++:setTimeout(function(){y=!0,C("ended",[])},0)),k):null}};return E}},Na=Bn,yt={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(t,r){var e,n=t.data,o=r.data,i=this.searchDirections,u=t.size.x;function l(d,g,y,b){var O,R,w;for(O=0;O<i.length;O++){if(R=d.cy+i[d.dir][0],w=d.cx+i[d.dir][1],n[e=R*u+w]===g&&(o[e]===0||o[e]===y))return o[e]=y,d.cy=R,d.cx=w,!0;o[e]===0&&(o[e]=b),d.dir=(d.dir+1)%8}return!1}function h(d,g,y){return{dir:y,x:d,y:g,next:null,prev:null}}return{trace:function(d,g,y,b){return l(d,g,y,b)},contourTracing:function(d,g,y,b,O){return function(R,w,C,E,k){var T,D,N,V=null,L={cx:w,cy:R,dir:0};if(l(L,E,C,k)){T=V=h(w,R,L.dir),N=L.dir,(D=h(L.cx,L.cy,0)).prev=T,T.next=D,D.next=null,T=D;var X=t.size.x*t.size.y,xe=0;do L.dir=(L.dir+6)%8,l(L,E,C,k),N!==L.dir?(T.dir=L.dir,(D=h(L.cx,L.cy,0)).prev=T,T.next=D,D.next=null,T=D):(T.dir=N,T.x=L.cx,T.y=L.cy),N=L.dir;while((L.cx!==w||L.cy!==R)&&++xe<X);V.prev=T.prev,T.prev.next=V}return V}(d,g,y,b,O)}}}},ve={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(t,r){var e=t.data,n=r.data,o=t.size.x,i=t.size.y,u=yt.create(t,r);return{rasterize:function(l){var h,d,g,y,b,O,R,w,C,E,k,T,D=[],N=0;for(T=0;T<400;T++)D[T]=0;for(D[0]=e[0],C=null,O=1;O<i-1;O++)for(y=0,d=D[0],b=1;b<o-1;b++)if(n[k=O*o+b]===0)if((h=e[k])!==d){if(y===0)D[g=N+1]=h,d=h,(R=u.contourTracing(O,b,g,h,ve.DIR.OUTSIDE_EDGE))!==null&&(N++,y=g,(w=ve.createContour2D()).dir=ve.CONTOUR_DIR.CW_DIR,w.index=y,w.firstVertex=R,w.nextpeer=C,w.insideContours=null,C!==null&&(C.prevpeer=w),C=w);else if((R=u.contourTracing(O,b,ve.DIR.INSIDE_EDGE,h,y))!==null){for((w=ve.createContour2D()).firstVertex=R,w.insideContours=null,w.dir=l===0?ve.CONTOUR_DIR.CCW_DIR:ve.CONTOUR_DIR.CW_DIR,w.index=l,E=C;E!==null&&E.index!==y;)E=E.nextpeer;E!==null&&(w.nextpeer=E.insideContours,E.insideContours!==null&&(E.insideContours.prevpeer=w),E.insideContours=w)}}else n[k]=y;else n[k]===ve.DIR.OUTSIDE_EDGE||n[k]===ve.DIR.INSIDE_EDGE?(y=0,d=n[k]===ve.DIR.INSIDE_EDGE?e[k]:D[0]):d=D[y=n[k]];for(E=C;E!==null;)E.index=l,E=E.nextpeer;return{cc:C,count:N}},debug:{drawContour:function(l,h){var d,g,y,b=l.getContext("2d"),O=h;for(b.strokeStyle="red",b.fillStyle="red",b.lineWidth=1,d=O!==null?O.insideContours:null;O!==null;){switch(d!==null?(g=d,d=d.nextpeer):(g=O,d=(O=O.nextpeer)!==null?O.insideContours:null),g.dir){case ve.CONTOUR_DIR.CW_DIR:b.strokeStyle="red";break;case ve.CONTOUR_DIR.CCW_DIR:b.strokeStyle="blue";break;case ve.CONTOUR_DIR.UNKNOWN_DIR:b.strokeStyle="green"}y=g.firstVertex,b.beginPath(),b.moveTo(y.x,y.y);do y=y.next,b.lineTo(y.x,y.y);while(y!==g.firstVertex);b.stroke()}}}}}},Fa=ve;/* @preserve ASM END */var Xe,De,Dt,Re,mt,Ye,ue,Fe,Se,de,rt,Ln,Wa=function(t,r,e){var n=new t.Uint8Array(e),o=r.size|0,i=t.Math.imul;function u(w,C){w=w|0,C=C|0;var E=0,k=0,T=0,D=0,N=0,V=0,L=0,X=0;for(E=1;(E|0)<(o-1|0);E=E+1|0)for(X=X+o|0,k=1;(k|0)<(o-1|0);k=k+1|0)D=X-o|0,N=X+o|0,V=k-1|0,L=k+1|0,T=(n[w+D+V|0]|0)+(n[w+D+L|0]|0)+(n[w+X+k|0]|0)+(n[w+N+V|0]|0)+(n[w+N+L|0]|0)|0,(T|0)==5?n[C+X+k|0]=1:n[C+X+k|0]=0}function l(w,C,E){w=w|0,C=C|0,E=E|0;var k=0;for(k=i(o,o)|0;(k|0)>0;)k=k-1|0,n[E+k|0]=(n[w+k|0]|0)-(n[C+k|0]|0)|0}function h(w,C,E){w=w|0,C=C|0,E=E|0;var k=0;for(k=i(o,o)|0;(k|0)>0;)k=k-1|0,n[E+k|0]=n[w+k|0]|0|(n[C+k|0]|0)|0}function d(w){w=w|0;var C=0,E=0;for(E=i(o,o)|0;(E|0)>0;)E=E-1|0,C=(C|0)+(n[w+E|0]|0)|0;return C|0}function g(w,C){w=w|0,C=C|0;var E=0;for(E=i(o,o)|0;(E|0)>0;)E=E-1|0,n[w+E|0]=C}function y(w,C){w=w|0,C=C|0;var E=0,k=0,T=0,D=0,N=0,V=0,L=0,X=0;for(E=1;(E|0)<(o-1|0);E=E+1|0)for(X=X+o|0,k=1;(k|0)<(o-1|0);k=k+1|0)D=X-o|0,N=X+o|0,V=k-1|0,L=k+1|0,T=(n[w+D+V|0]|0)+(n[w+D+L|0]|0)+(n[w+X+k|0]|0)+(n[w+N+V|0]|0)+(n[w+N+L|0]|0)|0,(T|0)>0?n[C+X+k|0]=1:n[C+X+k|0]=0}function b(w,C){w=w|0,C=C|0;var E=0;for(E=i(o,o)|0;(E|0)>0;)E=E-1|0,n[C+E|0]=n[w+E|0]|0}function O(w){w=w|0;var C=0,E=0;for(C=0;(C|0)<(o-1|0);C=C+1|0)n[w+C|0]=0,n[w+E|0]=0,E=E+o-1|0,n[w+E|0]=0,E=E+1|0;for(C=0;(C|0)<(o|0);C=C+1|0)n[w+E|0]=0,E=E+1|0}function R(){var w=0,C=0,E=0,k=0,T=0,D=0;C=i(o,o)|0,E=C+C|0,k=E+C|0,g(k,0),O(w);do u(w,C),y(C,E),l(w,E,E),h(k,E,k),b(C,w),T=d(w)|0,D=(T|0)==0|0;while(!D)}return{skeletonize:R}},Ze={ctx:{binary:null},dom:{binary:null}},$e={x:0,y:0};function Ba(t){var r,e,n,o,i,u,l,h=Se.size.x,d=Se.size.y,g=-Se.size.x,y=-Se.size.y;for(r=0,e=0;e<t.length;e++)r+=(o=t[e]).rad;for((r=(180*(r/=t.length)/Math.PI+90)%180-90)<0&&(r+=180),r=(180-r)*Math.PI/180,i=f.copy(f.create(),[Math.cos(r),Math.sin(r),-Math.sin(r),Math.cos(r)]),e=0;e<t.length;e++)for(o=t[e],n=0;n<4;n++)s.transformMat2(o.box[n],o.box[n],i);for(e=0;e<t.length;e++)for(o=t[e],n=0;n<4;n++)o.box[n][0]<h&&(h=o.box[n][0]),o.box[n][0]>g&&(g=o.box[n][0]),o.box[n][1]<d&&(d=o.box[n][1]),o.box[n][1]>y&&(y=o.box[n][1]);for(u=[[h,d],[g,d],[g,y],[h,y]],l=Xe.halfSample?2:1,i=f.invert(i,i),n=0;n<4;n++)s.transformMat2(u[n],u[n],i);for(n=0;n<4;n++)s.scale(u[n],u[n],l);return u}function La(t){var r=function(i,u,l){var h,d,g,y,b=0,O=0,R=[];for(h=0;h<u;h++)R[h]={score:0,item:null};for(h=0;h<i.length;h++)if((d=l.apply(this,[i[h]]))>O)for((g=R[b]).score=d,g.item=i[h],O=Number.MAX_VALUE,y=0;y<u;y++)R[y].score<O&&(O=R[y].score,b=y);return R}(function(i,u,l){var h,d,g,y,b=[];function O(R){var w=!1;for(d=0;d<b.length;d++)(g=b[d]).fits(R)&&(g.add(R),w=!0);return w}for(l||(l="rad"),h=0;h<i.length;h++)O(y=Po(i[h],h,l))||b.push(jo(y,u));return b}(t,.9),1,function(i){return i.getPoints().length}),e=[],n=[];if(r.length===1){e=r[0].item.getPoints();for(var o=0;o<e.length;o++)n.push(e[o].point)}return n}function qa(t,r){Se.subImageAsCopy(Re,Ot(t,r)),Ln.skeletonize()}function Va(t,r,e,n){var o,i,u,l,h=[],d=[],g=Math.ceil(de.x/3);if(t.length>=2){for(o=0;o<t.length;o++)t[o].m00>g&&h.push(t[o]);if(h.length>=2){for(u=La(h),i=0,o=0;o<u.length;o++){var y,b;i+=(y=(b=u[o])===null||b===void 0?void 0:b.rad)!==null&&y!==void 0?y:0}u.length>1&&u.length>=h.length/4*3&&u.length>t.length/4&&(i/=u.length,l={index:r[1]*$e.x+r[0],pos:{x:e,y:n},box:[s.clone([e,n]),s.clone([e+Re.size.x,n]),s.clone([e+Re.size.x,n+Re.size.y]),s.clone([e,n+Re.size.y])],moments:u,rad:i,vec:s.clone([Math.cos(i),Math.sin(i)])},d.push(l))}}return d}var Ga=function(t,r){Xe=r,rt=t,function(){De=Xe.halfSample?new we({x:rt.size.x/2|0,y:rt.size.y/2|0}):rt,de=Yt(Xe.patchSize,De.size),$e.x=De.size.x/de.x|0,$e.y=De.size.y/de.y|0,Se=new we(De.size,void 0,Uint8Array,!1),mt=new we(de,void 0,Array,!0);var e=de.x*de.y*4,n=Math.max(65536,Math.pow(2,Math.ceil(Math.log2(e)))),o=new ArrayBuffer(n);Re=new we(de,new Uint8Array(o,0,de.x*de.y)),Dt=new we(de,new Uint8Array(o,de.x*de.y*3,de.x*de.y),void 0,!0),Ln=Wa({Math,Uint8Array},{size:de.x},o),Fe=new we({x:De.size.x/Re.size.x|0,y:De.size.y/Re.size.y|0},void 0,Array,!0),Ye=new we(Fe.size,void 0,void 0,!0),ue=new we(Fe.size,void 0,Int32Array,!0)}(),function(){if(!Xe.useWorker&&typeof document<"u"){Ze.dom.binary=document.createElement("canvas"),Ze.dom.binary.className="binaryBuffer";var e=!!Xe.willReadFrequently;Ze.ctx.binary=Ze.dom.binary.getContext("2d",{willReadFrequently:e}),Ze.dom.binary.width=Se.size.x,Ze.dom.binary.height=Se.size.y}}()},Ha=function(){Xe.halfSample&&function(n,o){for(var i=n.data,u=n.size.x,l=o.data,h=0,d=u,g=i.length,y=u/2,b=0;d<g;){for(var O=0;O<y;O++)l[b]=Math.floor((i[h]+i[h+1]+i[d]+i[d+1])/4),b++,h+=2,d+=2;h+=u,d+=u}}(rt,De),To(De,Se),Se.zeroBorder();var t=function(){var n,o,i,u,l,h,d=[];for(n=0;n<$e.x;n++)for(o=0;o<$e.y;o++)qa(i=Re.size.x*n,u=Re.size.y*o),Dt.zeroBorder(),Qe(mt.data,0),h=Fa.create(Dt,mt).rasterize(0),l=mt.moments(h.count),d=d.concat(Va(l,[n,o],i,u));return d}();if(t.length<$e.x*$e.y*.05)return null;var r=function(n){var o,i,u=0,l=0;function h(){var g;for(g=0;g<ue.data.length;g++)if(ue.data[g]===0&&Ye.data[g]===1)return g;return ue.data.length}function d(g){var y,b,O,R,w,C=g%ue.size.x,E=g/ue.size.x|0;if(g<ue.data.length)for(O=Fe.data[g],ue.data[g]=u,w=0;w<yt.searchDirections.length;w++)b=E+yt.searchDirections[w][0],y=C+yt.searchDirections[w][1],R=b*ue.size.x+y,Ye.data[R]!==0?ue.data[R]===0&&Math.abs(s.dot(Fe.data[R].vec,O.vec))>.95&&d(R):ue.data[R]=Number.MAX_VALUE}for(Qe(Ye.data,0),Qe(ue.data,0),Qe(Fe.data,null),o=0;o<n.length;o++)i=n[o],Fe.data[i.index]=i,Ye.data[i.index]=1;for(Ye.zeroBorder();(l=h())<ue.data.length;)u++,d(l);return u}(t);if(r<1)return null;var e=function(n){var o,i,u=[];for(o=0;o<n;o++)u.push(0);for(i=ue.data.length;i--;)ue.data[i]>0&&u[ue.data[i]-1]++;return(u=u.map(function(l,h){return{val:l,label:h+1}})).sort(function(l,h){return h.val-l.val}),u.filter(function(l){return l.val>=5})}(r);return e.length===0?null:function(n,o){var i,u,l,h,d=[],g=[];for(i=0;i<n.length;i++){for(u=ue.data.length,d.length=0;u--;)ue.data[u]===n[i].label&&(l=Fe.data[u],d.push(l));(h=Ba(d))&&g.push(h)}return g}(e)},Xa=function(t,r){var e,n,o=t.getWidth(),i=t.getHeight(),u=r.halfSample?.5:1;t.getConfig().area&&(n=Uo(o,i,t.getConfig().area),t.setTopRight({x:n.sx,y:n.sy}),t.setCanvasSize({x:o,y:i}),o=n.sw,i=n.sh);var l={x:Math.floor(o*u),y:Math.floor(i*u)};if(e=Yt(r.patchSize,l),t.setWidth(Math.max(Math.floor(Math.floor(l.x/e.x)*(1/u)*e.x),e.x)),t.setHeight(Math.max(Math.floor(Math.floor(l.y/e.y)*(1/u)*e.y),e.y)),t.getWidth()%e.x==0&&t.getHeight()%e.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(o," )and height (").concat(i,") must a multiple of ").concat(e.x))},$a=z()(function t(){I()(this,t),S()(this,"config",void 0),S()(this,"inputStream",void 0),S()(this,"framegrabber",void 0),S()(this,"inputImageWrapper",void 0),S()(this,"stopped",!1),S()(this,"initAborted",!1),S()(this,"boxSize",void 0),S()(this,"resultCollector",void 0),S()(this,"decoder",void 0),S()(this,"workerPool",[]),S()(this,"onUIThread",!0),S()(this,"canvasContainer",new Qa)}),qn=z()(function t(){I()(this,t),S()(this,"image",void 0),S()(this,"overlay",void 0)}),Qa=z()(function t(){I()(this,t),S()(this,"ctx",void 0),S()(this,"dom",void 0),this.ctx=new qn,this.dom=new qn});function Vn(t){if(typeof document>"u")return null;if(t instanceof HTMLElement&&t.nodeName&&t.nodeType===1)return t;var r=typeof t=="string"?t:"#interactive.viewport";return document.querySelector(r)}function Gn(t,r,e){var n=function(i,u){var l=document.querySelector(i);return l||((l=document.createElement("canvas")).className=u),l}(t,r),o=n.getContext("2d",{willReadFrequently:e.willReadFrequently});return{canvas:n,context:o}}function Ya(t){var r,e,n,o,i,u,l,h,d,g,y=Vn(t==null||(r=t.config)===null||r===void 0||(e=r.inputStream)===null||e===void 0?void 0:e.target),b=t==null||(n=t.config)===null||n===void 0||(o=n.inputStream)===null||o===void 0?void 0:o.type;if(!b)return null;var O=(t==null||(i=t.config)===null||i===void 0||(u=i.canvas)===null||u===void 0?void 0:u.createOverlay)!==!1,R=function(C,E){var k=E.willReadFrequently,T=E.createOverlay;if(typeof document<"u"){var D=Gn("canvas.imgBuffer","imgBuffer",{willReadFrequently:k});D.canvas.width=C.x,D.canvas.height=C.y;var N={canvas:null,context:null};if(T){var V=Gn("canvas.drawingBuffer","drawingBuffer",{willReadFrequently:k});V.canvas.width=C.x,V.canvas.height=C.y,N=V}return{dom:{image:D.canvas,overlay:N.canvas},ctx:{image:D.context,overlay:N.context}}}return null}(t.inputStream.getCanvasSize(),{willReadFrequently:!(t==null||(l=t.config)===null||l===void 0||(h=l.inputStream)===null||h===void 0||!h.willReadFrequently),createOverlay:O,debug:t==null||(d=t.config)===null||d===void 0||(g=d.locator)===null||g===void 0?void 0:g.debug});if(!R)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var w=R.dom;return typeof document<"u"&&y&&(b!=="ImageStream"||y.contains(w.image)||y.appendChild(w.image),w.overlay&&!y.contains(w.overlay)&&y.appendChild(w.overlay)),R}function Hn(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),e.push.apply(e,n)}return e}function xt(t){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?Hn(Object(e),!0).forEach(function(n){S()(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Hn(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}var Ae=[];function Za(t){return xt(xt({},t),{},{inputStream:xt(xt({},t.inputStream),{},{target:null})})}function Ka(t){if(t){var r=t().default;if(!r)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var e;function n(i){self.postMessage({event:"processed",imageData:e.data,result:i},[e.data.buffer])}function o(){self.postMessage({event:"initialized",imageData:e.data},[e.data.buffer])}self.onmessage=function(i){if(i.data.cmd==="init"){var u=i.data.config;u.numOfWorkers=0,e=new r.ImageWrapper({x:i.data.size.x,y:i.data.size.y},new Uint8Array(i.data.imageData)),r.init(u,o,e),r.onProcessed(n)}else i.data.cmd==="process"?(e.data=new Uint8Array(i.data.imageData),r.start()):i.data.cmd==="setReaders"?r.setReaders(i.data.readers):i.data.cmd==="registerReader"&&r.registerReader(i.data.name,i.data.reader)}}function Ja(t,r,e){var n,o,i=(typeof __factorySource__<"u"&&(o=__factorySource__),n=new Blob(["("+Ka.toString()+")("+o+");"],{type:"text/javascript"}),window.URL.createObjectURL(n)),u={worker:new Worker(i),imageData:new Uint8Array(r.getWidth()*r.getHeight()),busy:!0};u.worker.onmessage=function(l){l.data.event==="initialized"?(URL.revokeObjectURL(i),u.busy=!1,u.imageData=new Uint8Array(l.data.imageData),e(u)):l.data.event==="processed"?(u.imageData=new Uint8Array(l.data.imageData),u.busy=!1,typeof publishResult<"u"&&publishResult(l.data.result,u.imageData)):l.data.event},u.worker.postMessage({cmd:"init",size:{x:r.getWidth(),y:r.getHeight()},imageData:u.imageData,config:Za(t)},[u.imageData.buffer])}function Xn(t,r,e,n){var o=t-Ae.length;if(o===0&&n)n();else if(o<0)Ae.slice(o).forEach(function(l){l.worker.terminate()}),Ae=Ae.slice(0,o),n&&n();else{var i=function(l){Ae.push(l),Ae.length>=t&&n&&n()};if(r)for(var u=0;u<o;u++)Ja(r,e,i)}}function $n(t,r,e){for(var n=t.length;n--;)t[n][0]+=r,t[n][1]+=e}function ei(t,r,e){t[0].x+=r,t[0].y+=e,t[1].x+=r,t[1].y+=e}var Qn=function(){return z()(function e(){var n=this;I()(this,e),S()(this,"context",new $a),S()(this,"canRecord",function(o){var i;n.context.initAborted?o(new Error("Initialization was aborted")):n.context.config?n.context.inputStream?(Xa(n.context.inputStream,(i=n.context.config)===null||i===void 0?void 0:i.locator),n.initCanvas(),n.context.framegrabber=Ea.create(n.context.inputStream,n.context.canvasContainer.dom.image),n.context.config.numOfWorkers===void 0&&(n.context.config.numOfWorkers=0),Xn(n.context.config.numOfWorkers,n.context.config,n.context.inputStream,function(){var u;((u=n.context.config)===null||u===void 0?void 0:u.numOfWorkers)===0&&n.initializeData(),n.ready(o)})):o(new Error("Input stream not initialized")):o(new Error("Configuration not initialized"))}),S()(this,"update",function(){if(n.context.onUIThread){var o,i=(l=n.context.framegrabber,Ae.length?!!(h=Ae.filter(function(d){return!d.busy})[0])&&(l.attachData(h.imageData),l.grab()&&(h.busy=!0,h.worker.postMessage({cmd:"process",imageData:h.imageData},[h.imageData.buffer])),!0):null);i||(n.context.framegrabber.attachData((o=n.context.inputImageWrapper)===null||o===void 0?void 0:o.data),n.context.framegrabber.grab()&&(i||n.locateAndDecode()))}else{var u;n.context.framegrabber.attachData((u=n.context.inputImageWrapper)===null||u===void 0?void 0:u.data),n.context.framegrabber.grab(),n.locateAndDecode()}var l,h}),S()(this,"_cachedStyleValues",void 0),S()(this,"_resolvedStyle",void 0)},[{key:"initBuffers",value:function(e){if(this.context.config){var n=function(u,l,h){var d=l||new we({x:u.getWidth(),y:u.getHeight(),type:"XYSize"}),g=[s.clone([0,0]),s.clone([0,d.size.y]),s.clone([d.size.x,d.size.y]),s.clone([d.size.x,0])];return Ga(d,h),{inputImageWrapper:d,boxSize:g}}(this.context.inputStream,e,this.context.config.locator),o=n.inputImageWrapper,i=n.boxSize;this.context.inputImageWrapper=o,this.context.boxSize=i}}},{key:"initializeData",value:function(e){this.context.config&&(this.initBuffers(e),this.context.decoder=jt.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?Vn(this.context.config.inputStream.target):null}},{key:"ready",value:function(e){this.context.inputStream.play(),e()}},{key:"initCanvas",value:function(){var e=Ya(this.context);if(e){var n=e.ctx,o=e.dom;this.context.canvasContainer.dom.image=o.image,this.context.canvasContainer.dom.overlay=o.overlay,this.context.canvasContainer.ctx.image=n.image,this.context.canvasContainer.ctx.overlay=n.overlay}}},{key:"initInputStream",value:function(e){if(this.context.config&&this.context.config.inputStream){var n=this.context.config.inputStream,o=n.type,i=n.constraints,u=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"LiveStream",g=arguments.length>1?arguments[1]:void 0,y=arguments.length>2?arguments[2]:void 0;switch(d){case"VideoStream":var b=document.createElement("video");return{video:b,inputStream:y.createVideoStream(b)};case"ImageStream":return{inputStream:y.createImageStream()};case"LiveStream":var O=null;return g&&((O=g.querySelector("video"))||(O=document.createElement("video"),g.appendChild(O))),{video:O,inputStream:y.createLiveStream(O)};default:return console.error("* setupInputStream invalid type ".concat(d)),{video:null,inputStream:null}}}(o,this.getViewPort(),Na),l=u.video,h=u.inputStream;o==="LiveStream"&&l&&pt.request(l,i).then(function(){return h.trigger("canrecord")}).catch(function(d){return e(d)}),h&&(h.setAttribute("preload","auto"),h.setInputStream(this.context.config.inputStream),h.addEventListener("canrecord",this.canRecord.bind(void 0,e))),this.context.inputStream=h}}},{key:"getBoundingBoxes",value:function(){var e;return(e=this.context.config)!==null&&e!==void 0&&e.locate?Ha():[[s.clone(this.context.boxSize[0]),s.clone(this.context.boxSize[1]),s.clone(this.context.boxSize[2]),s.clone(this.context.boxSize[3])]]}},{key:"transformResult",value:function(e){var n=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set,i=this.context.inputStream.getTopRight(),u=i.x,l=i.y;if((u!==0||l!==0)&&(e.barcodes&&e.barcodes.forEach(function(d){return n.transformResult(d,o)}),e.line&&e.line.length===2&&ei(e.line,u,l),e.box&&!o.has(e.box)&&($n(e.box,u,l),o.add(e.box)),e.boxes&&e.boxes.length>0))for(var h=0;h<e.boxes.length;h++)o.has(e.boxes[h])||($n(e.boxes[h],u,l),o.add(e.boxes[h]))}},{key:"addResult",value:function(e,n){var o=this;n&&this.context.resultCollector&&(e.barcodes?e.barcodes.filter(function(i){return i.codeResult}).forEach(function(i){return o.addResult(i,n)}):e.codeResult&&this.context.resultCollector.addResult(n,this.context.inputStream.getCanvasSize(),e.codeResult))}},{key:"hasCodeResult",value:function(e){return!(!e||!(e.barcodes?e.barcodes.some(function(n){return n.codeResult}):e.codeResult))}},{key:"publishResult",value:function(){var e,n,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,u=o;o&&this.context.onUIThread&&(this.transformResult(o),this.addResult(o,i),u=(o==null||(n=o.barcodes)===null||n===void 0?void 0:n.length)>0?o.barcodes:o),Ge.publish("processed",u),this.hasCodeResult(o)&&Ge.publish("detected",u);var l=this.context.config;l&&l.locate===!1&&(e=l.inputStream)!==null&&e!==void 0&&e.area&&this.drawScannerArea()}},{key:"locateAndDecode",value:(r=je()(ie.a.mark(function e(){var n,o,i,u,l,h;return ie.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!(n=this.getBoundingBoxes())){d.next=3;break}return d.next=1,this.context.decoder.decodeFromBoundingBoxes(n);case 1:if(h=d.sent){d.next=2;break}h={};case 2:(i=h).boxes=n,this.publishResult(i,(o=this.context.inputImageWrapper)===null||o===void 0?void 0:o.data),d.next=5;break;case 3:return d.next=4,this.context.decoder.decodeFromImage(this.context.inputImageWrapper);case 4:(u=d.sent)?this.publishResult(u,(l=this.context.inputImageWrapper)===null||l===void 0?void 0:l.data):this.publishResult();case 5:case"end":return d.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"startContinuousUpdate",value:function(){var e,n=this,o=null,i=1e3/(((e=this.context.config)===null||e===void 0?void 0:e.frequency)||60);this.context.stopped=!1;var u=this.context,l=function(h){o=o||h,u.stopped||(h>=o&&(o+=i,n.update()),window.requestAnimationFrame(l))};l(performance.now())}},{key:"start",value:function(){var e,n;this.context.onUIThread&&((e=this.context.config)===null||e===void 0||(n=e.inputStream)===null||n===void 0?void 0:n.type)==="LiveStream"?this.startContinuousUpdate():this.update()}},{key:"stop",value:(t=je()(ie.a.mark(function e(){var n,o;return ie.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.context.stopped=!0,this.context.framegrabber||(this.context.initAborted=!0),Xn(0),(n=this.context.config)===null||n===void 0||!n.inputStream||this.context.config.inputStream.type!=="LiveStream"){i.next=2;break}return i.next=1,pt.release();case 1:(o=this.context.inputStream)===null||o===void 0||o.clearEventHandlers();case 2:case"end":return i.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"setReaders",value:function(e){this.context.decoder&&this.context.decoder.setReaders(e),function(n){Ae.forEach(function(o){return o.worker.postMessage({cmd:"setReaders",readers:n})})}(e)}},{key:"registerReader",value:function(e,n){jt.registerReader(e,n),this.context.decoder&&this.context.decoder.registerReader(e,n),function(o,i){Ae.forEach(function(u){return u.worker.postMessage({cmd:"registerReader",name:o,reader:i})})}(e,n)}},{key:"drawScannerArea",value:function(){var e,n,o,i=(e=this.context.config)===null||e===void 0||(n=e.inputStream)===null||n===void 0?void 0:n.area;if(i){var u=this.context.canvasContainer.ctx.overlay;if(u&&((o=this.context.config)===null||o===void 0?void 0:o.locate)===!1&&(i.borderColor!==void 0&&i.borderColor!==""||i.borderWidth!==void 0&&i.borderWidth>0||i.backgroundColor!==void 0&&i.backgroundColor!=="")&&this.context.boxSize){var l=this.context.inputStream.getTopRight(),h=l.x,d=l.y,g=this.context.boxSize,y=g[0],b=g[1],O=g[3],R=y[0]+h,w=y[1]+d,C=O[0]-y[0],E=b[1]-y[1];if(!this._cachedStyleValues||this._cachedStyleValues.borderColor!==i.borderColor||this._cachedStyleValues.borderWidth!==i.borderWidth||this._cachedStyleValues.backgroundColor!==i.backgroundColor){var k,T;this._cachedStyleValues={borderColor:i.borderColor,borderWidth:i.borderWidth,backgroundColor:i.backgroundColor};var D=i.borderColor!==void 0||i.borderWidth!==void 0,N=(k=i.borderColor)!==null&&k!==void 0?k:"rgba(0, 255, 0, 0.5)",V=D?(T=i.borderWidth)!==null&&T!==void 0?T:2:0,L=i.backgroundColor;this._resolvedStyle={color:N,width:V,bg:L}}var X=this._resolvedStyle;X.bg&&(u.fillStyle=X.bg,u.fillRect(R,w,C,E)),X.width>0&&(u.strokeStyle=X.color,u.lineWidth=X.width,u.strokeRect(R,w,C,E))}}}}]);var t,r}(),We=new Qn,ot=We.context,Yn={init:function(t,r,e){var n,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:We;return r||(n=new Promise(function(i,u){r=function(l){l?u(l):i()}})),o.context.initAborted=!1,o.context.config=A()({},Aa,t),o.context.config.numOfWorkers>0&&(o.context.config.numOfWorkers=0),e?(o.context.onUIThread=!1,o.initializeData(e),r&&r()):o.initInputStream(r),n},start:function(t,r){var e;if(t)return r||(e=new Promise(function(n,o){r=function(i){i?o(i):n()}})),this.init(t,function(n){if(n)r(n);else try{We.start(),r()}catch(o){r(o)}}),e;if(!ot.framegrabber)throw new Error("start() was called before init() completed. Call init() first, or call start(config) to combine init and start.");return We.start()},stop:function(){return We.stop()},pause:function(){ot.stopped=!0},onDetected:function(t){t&&(typeof t=="function"||_()(t)==="object"&&t.callback)?Ge.subscribe("detected",t):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(t){Ge.unsubscribe("detected",t)},onProcessed:function(t){t&&(typeof t=="function"||_()(t)==="object"&&t.callback)?Ge.subscribe("processed",t):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(t){Ge.unsubscribe("processed",t)},setReaders:function(t){t?We.setReaders(t):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(t,r){t?r?We.registerReader(t,r):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(t){t&&typeof t.addResult=="function"&&(ot.resultCollector=t)},get canvas(){return ot.canvasContainer},drawScannerArea:function(){return We.drawScannerArea()},decodeSingle:function(t,r){var e=this,n=new Qn;return(t=A()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:t.src},numOfWorkers:1,locator:{halfSample:!1}},t)).numOfWorkers>0&&(t.numOfWorkers=0),t.numOfWorkers>0&&(typeof Blob>"u"||typeof Worker>"u")&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),t.numOfWorkers=0),new Promise(function(o,i){try{e.init(t,function(){ot.canvasContainer=n.context.canvasContainer,Ge.once("processed",function(u){n.stop(),r&&r.call(null,u),o(u)},!0),n.start()},null,n)}catch(u){i(u)}})},get default(){return Yn},Readers:p,CameraAccess:pt,ImageDebug:Ct,ImageWrapper:we,ResultCollector:zn};x.default=Yn}]).default})})(Jn);var er=Jn.exports;const oi=ni(er),ii=ri({__proto__:null,default:oi},[er]);export{ii as q};
