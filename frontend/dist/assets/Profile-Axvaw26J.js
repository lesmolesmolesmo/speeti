const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-TnPH2S_w.js","assets/index-B9zXfgxB.css"])))=>i.map(i=>d[i]);
import{u as N,b as u,r,_ as b,j as e,L as n,d as v,U as m,M as o,e as a,n as w,l as z,H as _,o as L,p as S}from"./index-TnPH2S_w.js";import{L as E,S as A}from"./settings-BXha7_KE.js";import{P as d}from"./package-DJqEn-u_.js";function C(){const c=N(),{user:s,addresses:i,fetchAddresses:h,logout:g}=u(),[x,p]=r.useState(!0),[j,f]=r.useState(0);if(r.useEffect(()=>{const t=setTimeout(()=>{p(!1)},100);return()=>clearTimeout(t)},[]),r.useEffect(()=>{if(!x&&!s){c("/login?redirect=/profile");return}s&&(h(),b(async()=>{const{api:t}=await import("./index-TnPH2S_w.js").then(l=>l.D);return{api:t}},__vite__mapDeps([0,1])).then(({api:t})=>{t.get("/orders").then(({data:l})=>{f((l==null?void 0:l.length)||0)}).catch(()=>{})}))},[s,x]),x)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(E,{className:"w-8 h-8 text-primary-500 animate-spin"})});if(!s)return null;const y=()=>{g(),c("/")};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-gradient-to-br from-primary-500 to-primary-600 text-white pt-12 pb-8 px-4 rounded-b-3xl",children:e.jsxs("div",{className:"max-w-lg mx-auto",children:[e.jsxs(n,{to:"/",className:"inline-flex items-center gap-2 text-primary-100 hover:text-white mb-6",children:[e.jsx(v,{size:20})," Zurück"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur rounded-2xl flex items-center justify-center",children:e.jsx(m,{size:32})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:(s==null?void 0:s.name)||"Benutzer"}),e.jsx("p",{className:"text-primary-100",children:s==null?void 0:s.email})]})]})]})}),e.jsxs("div",{className:"max-w-lg mx-auto px-4 py-6 space-y-6",children:[e.jsxs("section",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 bg-white rounded-2xl p-4 text-center",children:[e.jsx(d,{className:"mx-auto mb-2 text-primary-500",size:24}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j}),e.jsx("p",{className:"text-xs text-gray-500",children:"Bestellungen"})]}),e.jsxs("div",{className:"flex-1 bg-white rounded-2xl p-4 text-center",children:[e.jsx(o,{className:"mx-auto mb-2 text-primary-500",size:24}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.length}),e.jsx("p",{className:"text-xs text-gray-500",children:"Adressen"})]})]}),e.jsxs("section",{className:"bg-white rounded-2xl overflow-hidden",children:[e.jsx("h2",{className:"font-semibold text-gray-900 px-4 pt-4 pb-2",children:"Konto"}),e.jsxs("div",{className:"divide-y divide-gray-100",children:[e.jsxs("button",{className:"w-full flex items-center gap-4 px-4 py-3 hover:bg-gray-50 transition-colors",children:[e.jsx(m,{size:20,className:"text-gray-400"}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Name"}),e.jsx("p",{className:"text-xs text-gray-500",children:(s==null?void 0:s.name)||"-"})]}),e.jsx(a,{size:20,className:"text-gray-400"})]}),e.jsxs("button",{className:"w-full flex items-center gap-4 px-4 py-3 hover:bg-gray-50 transition-colors",children:[e.jsx(w,{size:20,className:"text-gray-400"}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"E-Mail"}),e.jsx("p",{className:"text-xs text-gray-500",children:(s==null?void 0:s.email)||"-"})]}),e.jsx(a,{size:20,className:"text-gray-400"})]}),e.jsxs("button",{className:"w-full flex items-center gap-4 px-4 py-3 hover:bg-gray-50 transition-colors",children:[e.jsx(z,{size:20,className:"text-gray-400"}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Telefon"}),e.jsx("p",{className:"text-xs text-gray-500",children:(s==null?void 0:s.phone)||"Nicht angegeben"})]}),e.jsx(a,{size:20,className:"text-gray-400"})]})]})]}),e.jsxs("section",{className:"bg-white rounded-2xl overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 pt-4 pb-2",children:[e.jsx("h2",{className:"font-semibold text-gray-900",children:"Adressen"}),e.jsx("button",{className:"text-primary-600 text-sm font-medium",children:"+ Hinzufügen"})]}),i.length===0?e.jsx("p",{className:"px-4 pb-4 text-sm text-gray-500",children:"Noch keine Adressen gespeichert"}):e.jsx("div",{className:"divide-y divide-gray-100",children:i.map(t=>e.jsxs("div",{className:"px-4 py-3 flex items-start gap-3",children:[e.jsx(o,{size:20,className:"text-gray-400 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.label}),e.jsxs("p",{className:"text-xs text-gray-500",children:[t.street," ",t.house_number,", ",t.postal_code," ",t.city]})]}),t.is_default&&e.jsx("span",{className:"text-xs bg-primary-100 text-primary-600 px-2 py-1 rounded-full",children:"Standard"})]},t.id))})]}),e.jsx("section",{className:"bg-white rounded-2xl overflow-hidden",children:e.jsxs("div",{className:"divide-y divide-gray-100",children:[e.jsxs(n,{to:"/orders",className:"flex items-center gap-4 px-4 py-3 hover:bg-gray-50 transition-colors",children:[e.jsx(d,{size:20,className:"text-gray-400"}),e.jsx("span",{className:"flex-1 text-sm font-medium text-gray-900",children:"Meine Bestellungen"}),e.jsx(a,{size:20,className:"text-gray-400"})]}),e.jsxs("button",{className:"w-full flex items-center gap-4 px-4 py-3 hover:bg-gray-50 transition-colors",children:[e.jsx(A,{size:20,className:"text-gray-400"}),e.jsx("span",{className:"flex-1 text-left text-sm font-medium text-gray-900",children:"Einstellungen"}),e.jsx(a,{size:20,className:"text-gray-400"})]}),e.jsxs(n,{to:"/support",className:"flex items-center gap-4 px-4 py-3 hover:bg-gray-50 transition-colors",children:[e.jsx(_,{size:20,className:"text-rose-500"}),e.jsx("span",{className:"flex-1 text-sm font-medium text-gray-900",children:"Hilfe & Support"}),e.jsx(a,{size:20,className:"text-gray-400"})]}),e.jsxs("button",{className:"w-full flex items-center gap-4 px-4 py-3 hover:bg-gray-50 transition-colors",children:[e.jsx(L,{size:20,className:"text-gray-400"}),e.jsx("span",{className:"flex-1 text-left text-sm font-medium text-gray-900",children:"Datenschutz"}),e.jsx(a,{size:20,className:"text-gray-400"})]})]})}),e.jsxs("button",{onClick:y,className:"w-full flex items-center justify-center gap-2 bg-red-50 text-red-600 font-medium py-4 rounded-2xl hover:bg-red-100 transition-colors",children:[e.jsx(S,{size:20})," Abmelden"]}),e.jsx("p",{className:"text-center text-xs text-gray-400",children:"Speeti v1.0.0 • Made with ❤️ in Münster"})]})]})}export{C as default};
